/* >>> file start: js/lj-team/Post/dist/view.js */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{303:function(e,t,n){"use strict";n.r(t);var r=n(647),o=n(648),a=n(646),n=n(6);function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=o.ACTIONS.ADD_FRIEND,u=o.ACTIONS.SET_USERS,p=o.ACTIONS.INIT,f=o.ACTIONS.SET,d=o.ACTIONS.REMOVE_FRIEND,m=o.ACTIONS.TOGGLE,b=o.ACTIONS.HANDLE_BOOKMARK,h=o.ACTIONS.SOCIAL_PANEL_STATUS,y={social:{top:!1,bottom:!1,enabled:!1},bookmark:{},cachedUsers:{},isGoldenEntry:Object(n.ljGet)("is_golden_entry"),canManageGoldenEntries:Object(n.ljGet)("can_set_golden"),goldStatusUpdating:!1};t.default={actions:r,constants:o,selectors:a,reducer:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:y,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case p:return c({},e);case f:return c(c({},e),t.values);case m:return c(c({},e),{},{social:c(c({},e.social),{},l({},t.field,t.value))});case b:var n=t.data.page||location.href,r=t.data.pending||!1,o=void 0!==t.data.added?t.data.added:e.bookmark[n]&&e.bookmark[n].added||!1,a=t.data.privacy||!1===t.data.added&&"private"||e.bookmark[n]&&e.bookmark[n].privacy||"private";return r?c(c({},e),{},{bookmark:c(c({},e.bookmark),{},l({},n,c(c({},e.bookmark[n]),{},{pending:!0})))}):c(c({},e),{},{bookmark:c(c({},e.bookmark),{},l({},n,c(c({},e.bookmark[n]),{},{added:o,privacy:a,pending:r})))});case u:return c(c({},e),{},{cachedUsers:c(c({},e.cachedUsers),t.data)});case s:return c(c({},e),{},{cachedUsers:c(c({},e.cachedUsers),{},l({},t.userId,c(c({},e.cachedUsers[t.userId]),{},{is_friend:!0})))});case d:return c(c({},e),{},{cachedUsers:c(c({},e.cachedUsers),{},l({},t.userId,c(c({},e.cachedUsers[t.userId]),{},{is_friend:!1})))});case h:return c(c({},e),{},{social:c(c({},e.social),{},{enabled:t.status})});default:return e}}}},646:function(e,t,n){"use strict";n.r(t),n.d(t,"getState",function(){return r}),n.d(t,"getBookmarkState",function(){return o}),n.d(t,"getSocial",function(){return a}),n.d(t,"getUncachedUsers",function(){return i}),n.d(t,"getUsers",function(){return c});var r=function(e){return e.postView},o=function(e,t){return r(e).bookmark[t||location.href]||{}},a=function(e){return r(e).social},i=function(e,t){var n=Object.keys(t.postView.cachedUsers).map(Number);return e.filter(function(e){return!~n.indexOf(e)})},c=function(e){return r(e).cachedUsers}},647:function(e,t,n){"use strict";n.r(t);function o(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=Object.assign({},i,t);return Object(a.a)("user.get",{targetid:e,fields:t},n)}var c=n(6),r=n(648),a=n(239),i={profile_url:1,username:1,journal_url:1},l=function(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return Array.isArray(e)?(t=e.map(function(e){return o(e,n,r)}),Promise.all(t)):o(e)},s=function(e){return Object(a.a)("relations.addfriend",{target_id:e})},u=function(e){return Object(a.a)("relations.removefriend",{target_id:e})},p=n(646);function f(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function d(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?f(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}n.d(t,"toggle",function(){return S}),n.d(t,"set",function(){return P}),n.d(t,"loadMemories",function(){return _}),n.d(t,"handleBookmark",function(){return L}),n.d(t,"init",function(){return N}),n.d(t,"setUsers",function(){return C}),n.d(t,"getUsersData",function(){return R}),n.d(t,"addFriend",function(){return I}),n.d(t,"removeFriend",function(){return T}),n.d(t,"setGoldenEntryStatus",function(){return D});var m=r.ACTIONS.SET,b=r.ACTIONS.ADD_FRIEND,h=r.ACTIONS.SET_USERS,y=r.ACTIONS.REMOVE_FRIEND,g=r.ACTIONS.SOCIAL_PANEL_STATUS,v=r.ACTIONS.HANDLE_BOOKMARK,O=r.ACTIONS.TOGGLE,j=(Object(c.ljGet)("entry.ditemid")||"").toString(),w=Object(c.ljGet)("entry.journal")||"",k=Object(c.ljGet)("entry.title")||"",E="".concat(w,": ").concat(k),S=function(t,n){return function(e){e({type:O,field:t,value:n})}},P=function(t){return function(e){e({type:m,values:t})}},_=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,e,n){n=n.api;return Object(p.getBookmarkState)(e()).pending||!Object(c.ljGet)("remote")?Promise.reject():(t({type:v,data:{pending:!0}}),n("memories.get",{ditemid:r.postID||j,journal:w,title:k}).then(function(e){e=e.result;return e&&t({type:v,data:{page:r.postURL,pending:!1,added:!0,privacy:e.security}}),e||{}}))}},L=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(e,t,n){var n=n.api,r={ditemid:i.ditemid||j,journal:i.journal||w,description:E,security:i.privacy},o=i.rootBookmarkState,o=void 0===o?{}:o,a=(e({type:v,data:i}),d({},r));return!1===i.added?n("memories.remove",r).catch(function(){e({type:v,data:{page:i.page,added:!0}})}):(o.added?a.action="update":a.action="add",a.URL=c.lj.get("currentEntry")||"".concat(c.lj.get("journal.journal_url")).concat(a.ditemid,".html"),c.lj.Event.trigger("bookmark:changed",a),n("memories.set",r).catch(function(){return e({type:v,data:{page:i.page,privacy:i.privacy,added:i.added}})}))}},N=function(){return function(e){e({type:g,status:!!Object(c.ljGet)("page.add_ljlike")&&!!Object(c.ljGet)("entry.is_public")})}},C=function(e){return{type:h,data:e}},R=function(e){return l(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).then(function(e){var t={};return e.forEach(function(e){t[e.user.id]=e.user}),t})},I=function(t){return function(e){s(t).then(function(){e({type:b,userId:t})})}},T=function(t){return function(e){u(t).then(function(){e({type:y,userId:t})})}},D=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(t,e,n){n=n.api;return t(P({goldStatusUpdating:!0})),(r.newIsGolden?n("goldenentries.add",{url:r.postURL}):n("goldenentries.delete",{url:r.postURL})).then(function(){t(P({isGoldenEntry:r.newIsGolden})),t(P({goldStatusUpdating:!1}))}).catch(function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).message;e&&(c.lj.Messages.add({type:"error",body:e}),t(P({goldStatusUpdating:!1})))})}}},648:function(e,o,a){"use strict";a.r(o),function(e){a.d(o,"ACTIONS",function(){return n}),a.d(o,"socialSharingsDict",function(){return r});var t=a(26),n=Object(t.a)(["ADD_FRIEND","SET_USERS","INIT","SET","REMOVE_FRIEND","TOGGLE","HANDLE_BOOKMARK","SOCIAL_PANEL_STATUS"],e),r={vk:"vkontakte",ok:"odnoklassniki",tw:"twitter",lj:"repost",fb:"facebook",embed:"embed",whatsapp:"whatsapp",email:"email",copyURL:"copyURL"}}.call(this,"common/view")},673:function(S,P,e){"use strict";e.r(P);var t=e(0),te=e.n(t),_=e(44),L=e(151),N=e(89),i=e(16),ne=e(6),re=e(233),p=e(646),j=e(648);function C(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach(function(e){I(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function(n){return["PATCH_STATE","INIT","COMMENTS_COUNT","CLOSE_ALL","CHANGE_COMMENTS_COUNTER","TOGGLE_LIKUS","TOGGLE_LIKUS_POPUP","TOGGLE_LJREPOSTERS_POPUP","UPDATE_LIKUS","UPDATE_LJREPOSTERS","GET_ALL_LIKUS_USER","TOGGLE_MORE_MODAL","TOGGLE_LJREPOSTERS_MODAL","HIGHLIGHT_BOOKMARK","TOGGLE_BOOKMARK_POPUP","OPEN_COMMENT_FORM","UPDATE_SHARE_DATA"].reduce(function(e,t){return R(R({},e),{},I({},t,"".concat(t,"--").concat(n)))},{})};function A(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function B(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?A(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):A(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var U=function(t){function n(e){return e[t]}return{getSocialState:n,getSocialSharings:function(e){return n(e).socialSharings},getBookmarkState:function(e){return n(e).bookmark},getLikus:function(e,t){e=n(e).likus;return B(B({},e),{},{likedList:t?e.likedList.map(function(e){return t[e]}).filter(Boolean):e.likedList})},getLjRepostersState:function(e){return n(e).ljReposters}}},f=e(647);function G(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function M(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?G(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):G(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function z(e){var t=e.initParams,s=void 0===t?{}:t,u=e.selectors,p=e.constants;return function(n,r){var o=p.PATCH_STATE,a=u.getSocialState,e=!!Site.page.endlessScrollEnabled,i=a(r()),c=s.postURL,l=(c=c||window.location.href.split("#")[0].split("?")[0],n({type:o,patchObj:{postURL:c,postTitle:s.postTitle}}),M({},i.comments));Number.isInteger(s.commentCount)?l.count=s.commentCount:l.count=Object(ne.ljGet)("page.replycount"),s.commentCounterIsLink&&s.postURL&&(l.url=s.commentCounterURL||"".concat(s.postURL,"#comments")),e&&s.postURL&&(l.url=s.commentCounterURL||"".concat(s.postURL,"?noscroll&utm_medium=endless_scroll#comments")),n({type:o,patchObj:{comments:l}}),n(Object(f.loadMemories)({postID:s.postID,postURL:s.postURL})).catch(function(){}),ne.ljEvent.on("comment::submit::success",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.commentsCount;e.postURL===c&&(i=a(r()),(l=M({},i.comments)).count=t,n({type:o,patchObj:{comments:l}}))})}}function H(n){return function(t,e){e=Object(p.getUncachedUsers)(n,e());Object(f.getUsersData)(e,{userpic:1,is_friend:1}).then(function(e){t(Object(f.setUsers)(e))})}}function F(e){var l=e.selectors,s=e.constants;return function(o,e,t){var t=t.api,n=l.getLikus,r=l.getSocialState,a=s.GET_ALL_LIKUS_USER,i=s.UPDATE_LIKUS,c=n(e())||{},n=r(e());return c.likedListIsFull?Promise.resolve():(r=n.itemId||Object(ne.ljGet)("entry.ditemid")||"",e=Object(ne.ljGet)("journal.id")||0,o({type:a,value:!0}),t("likes.get_users",{item:r,journal:e,likes_signature:Object(ne.ljGet)("likes_signature")}).then(function(e){var t,n,r,e=e.result;e&&e.length&&(e=e.map(function(e){return+e.id}),t=c.likedList,n=e,r=(e=t).filter(function(e){return n.includes(e)}),e=n.filter(function(e){return!r.includes(e)}),t=[].concat(r).concat(e),o({type:i,data:{likedList:t}}),o(H(t)))}))}}function K(e){var a=e.selectors,i=e.constants;return function(t,e,n){var n=n.api,r=a.getSocialState,o=i.UPDATE_LJREPOSTERS;return n("repost.get_list",{url:r(e()).postURL}).then(function(e){e&&t({type:o,data:e})})}}function W(e){var n=e.selectors,r=e.constants;return function(e){var t=r.TOGGLE_LIKUS_POPUP;e(F({selectors:n,constants:r})),e({type:t})}}function J(e){var n=e.selectors,r=e.constants;return function(e){var t=r.TOGGLE_MORE_MODAL;return e(F({selectors:n,constants:r})),e({type:t})}}function $(e){var u=e.selectors,p=e.constants;return function(a,i){function e(e){var t=(s(i())||{}).likedListIsFull,n=e.count,r=e.liked,o=e.users,n={count:n,liked:r};t||(n.likedList=o),a({type:c,data:n}),t?(a({type:l,value:!1}),a(F({selectors:u,constants:p}))):a(H(e.users))}var c=p.UPDATE_LIKUS,l=p.GET_ALL_LIKUS_USER,s=u.getLikus,t=(0,u.getSocialState)(i());return ne.ljLikus.getVote({item:t.itemId||Object(ne.ljGet)("entry.ditemid")||"",journal:Object(ne.ljGet)("journal.id")||""},{token:Object(ne.ljGet)("likes_signature"),type:"full"},e).then(e)}}function V(r){return function(e,n){return ne.ljSharings.Unshare(j.socialSharingsDict.lj,location.href)().then(function(e){var t=(0,r.getSocialSharings)(n()).lj.value-1;e&&e.count&&(t=+e.count),ne.ljEvent.trigger("postShareChange",{type:"lj",value:t,reposted:0})})}}function q(c,l){var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(n,e){var t=c.getSocialSharings,r=c.getSocialState,o=s.event,a=t(e()),i=r(e()),t=Promise.resolve();"lj"===l&&(o&&o.persist(),Site.remote||LJ.RepostModal.showLoginForm(),t=LJ.RepostModal.getCanRepostToComm({postUrl:i.postURL}).then(function(e){return e&&"lj"===l?(LJ.RepostModal.initForPost({postUrl:i.postURL}),LJ.RepostModal.show(),"handled"):!e&&"lj"===l&&-1<i.postURL.indexOf(Site.remote.display_username)?(LJ.Messages.add({type:"error",body:LJ.ml("lj_repost_popup.cant.share.journal")}),"handled"):null})),t.then(function(){if("handled"===(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}))return null;if("lj"===l&&a[l].reposted)return n(V(c));var e=j.socialSharingsDict[l]||l;return ne.ljSharings.Share(e,i.postURL,{title:i.postTitle})().then(function(){ne.ljSharings.GetCount(e,location.href,!0).then(function(e){e={type:l,value:e};"lj"===l&&(e.reposted=1),ne.ljEvent.trigger("postShareChange",e)})},function(){var e,t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).data;t&&("lj"===l&&+t.reposted?n(V(c)):t.count&&(e={type:"lj",value:+t.count},t.reposted&&(e.reposted=+t.reposted),ne.ljEvent.trigger("postShareChange",e)))})})}}function X(r,o){return function(e){var t=o.UPDATE_SHARE_DATA,n={};["value","reposted"].forEach(function(e){void 0!==r[e]&&(n[e]=r[e])}),Object.keys(n).length&&e({type:t,share:{type:r.type,data:n}})}}function Z(e){return function(t){var n=e.COMMENTS_COUNT;ne.ljEvent.on("commentCounterChange",function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).replyCounter;t({type:n,data:e})})}}function Q(e){var o=e.likus,a=e.constants,i=e.selectors;return function(e,t){var n=i.getSocialState,r=a.TOGGLE_LIKUS,n=n(t()).itemId||Object(ne.ljGet)("entry.ditemid")||"";Object(ne.ljGet)("remote")?(ne.lj.Event.trigger("likeReaction::userReactionSelect",{source:"socialPanel",postID:n,journalID:Object(ne.ljGet)("journal.id")||"",setsLike:!o.liked,itemUrl:null==(t=Site)?void 0:t.currentEntry}),ne.ljLikus.setVote({item:n,journal:Object(ne.ljGet)("journal.id")||""},{mark:+o.liked}).then(function(){e({type:r})}).catch(function(e){ne.lj.Event.trigger("Messages:requestZIndex",150),ne.lj.Messages.add({body:e.message,type:"error"})})):ne.lj.Util.Action.login()}}function Y(e){var o=e.added,a=e.privacy,i=e.selectors,c=e.constants;return function(e,t){var n=c.TOGGLE_BOOKMARK_POPUP,r=(0,i.getSocialState)(t()),t=M({},Object(p.getBookmarkState)(t(),r.postURL));e(Object(f.handleBookmark)({ditemid:r.itemId,added:o,privacy:a,page:r.postURL,rootBookmarkState:t})),void 0!==o&&e({type:n,data:o})}}function ee(e){var r=e.selectors,o=e.constants;return function(e,t){var n=o.OPEN_COMMENT_FORM,t=(0,r.getSocialState)(t());ne.ljEvent.emit("commentator/show",{postURL:t.postURL,itemID:t.itemId,journalID:t.journalID}),e({type:n})}}var ue=!re.a.isEnabled("reactions")||!re.a.isEnabled("reactions_post"),pe=function(e){var i=T(e),c=i.INIT,t=i.CLOSE_ALL,l=i.UPDATE_SHARE_DATA,r=i.TOGGLE_BOOKMARK_POPUP,n=i.TOGGLE_LJREPOSTERS_MODAL,s=U(e),u=s.getSocialSharings;return{init:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(n,e){var t=a.postID||Object(ne.ljGet)("entry.ditemid")||"",r=a.journalID||Object(ne.ljGet)("journal.id")||"",o=Object(ne.ljGet)("entry.journal")||"",t=(n({type:c,journalName:o,itemId:t,journalID:r,isOwner:Object(ne.ljGet)("remote.id")===Object(ne.ljGet)("journal.id"),allowCommenting:!!Object(ne.ljGet)("allow_commenting")}),n(z({initParams:a,selectors:s,constants:i})),o=ue?n($({selectors:s,constants:i})):Promise.resolve(),u(e()));return Object.keys(t).forEach(function(t){ne.ljSharings.GetCount(j.socialSharingsDict[t]||t,location.href).then(function(e){n({type:l,share:{type:t,data:{value:e}}})})}),n(Z(i)),ne.ljEvent.on("postShareChange",function(e){n(X(e,i))}),Promise.all([o,t])}},closeAllPopups:function(){return{type:t}},toggleLikus:function(t){return function(e){e(Q({selectors:s,constants:i,likus:t}))}},onShareClick:function(t,n){return function(e){e(q(s,t,{event:n}))}},toggleLikusPopup:function(){return function(e){e(W({selectors:s,constants:i}))}},loadLjReposters:function(){return function(e){e(K({selectors:s,constants:i}))}},toggleLjRepostersPopup:function(){return function(e){var n,r;e((n=(e={selectors:s,constants:i}).selectors,r=e.constants,function(e){var t=r.TOGGLE_LJREPOSTERS_POPUP;e(K({selectors:n,constants:r})),e({type:t})}))}},toggleMoreModal:function(){return function(e){e(J({selectors:s,constants:i}))}},toggleLjRepostersModal:function(){return function(e){return e({type:n})}},handleBookmark:function(e){var t=e.added,n=e.privacy;return function(e){e(Y({added:t,privacy:n,selectors:s,constants:i}))}},toggleBookmarkPopup:function(n){return function(e,t){t=(Object(p.getBookmarkState)(t(),location.href)||{}).added||!1;return e({type:r,data:!!t&&n})}},openCommentForm:function(){return function(e){e(ee({selectors:s,constants:i}))}}}},oe=e(1),n={socialSharings:{lj:{value:0,reposted:0,title:Object(oe.a)("post.social.lj.label")},fb:{value:0,title:Object(oe.a)("post.social.fb.label")},vk:{value:0,title:Object(oe.a)("post.social.vk.label")},ok:{value:0,title:Object(oe.a)("post.social.ok.label")},tw:{value:0,title:Object(oe.a)("post.social.tw.label")},whatsapp:{value:0,title:Object(oe.a)("post.social.whatsapp.label")},telegram:{value:0,title:Object(oe.a)("post.social.telegram.label")},email:{value:0,title:Object(oe.a)("post.social.email.label")},embed:{value:0,title:Object(oe.a)("post.social.embed.label")},copyURL:{value:0,title:Object(oe.a)("post.social.copy.label")}}};function fe(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach(function(e){de(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}LJ.Flags.isEnabled("repost_facebook")||delete n.socialSharings.fb;function me(){return te.a.createElement("svg",{width:"16",height:"15",viewBox:"0 0 16 15",className:"svgicon svgicon--share"},te.a.createElement("path",{d:"M9 9.643v3.212l7-6.402L9 0v3.214C.4 3.214 0 15 0 15c2.433-4.79 4.333-5.357 9-5.357"}))}function be(){return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:"svgicon svgicon--heart"},te.a.createElement("path",{d:"M11.526 0C10.01 0 8.64.834 8.003 2.135 7.366.835 5.98 0 4.463 0c-2.37 0-5.546 2.01-4.1 7.488 1.654 5.36 7.64 8.513 7.64 8.51 0 .003 5.978-3.15 7.63-8.51C17.082 2.01 13.896 0 11.527 0"}))}function he(){return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:"svgicon svgicon--comments"},te.a.createElement("path",{d:"M8 13.92c-1.003 0-2.25.182-3-.054L1 16l1-4.267C.515 10.415 0 8.77 0 7.02 0 3.15 3.59 0 8 0s8 3.15 8 7.02c0 3.802-3.59 6.9-8 6.9z"}))}function ye(){return te.a.createElement("svg",{width:"13",height:"16",viewBox:"0 0 13 16",className:"svgicon svgicon--bookmark"},te.a.createElement("path",{d:"M12.188 0H.813C.366 0 0 .37 0 .82v14.74c0 .45.275.576.61.28l5.28-4.655c.335-.297.885-.297 1.22 0l5.28 4.654c.335.296.61.17.61-.28V.82c0-.45-.365-.82-.812-.82z"}))}function ge(e){return e=e.className,te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:Object(ae.a)("svgicon","svgicon--lj",e)},te.a.createElement("path",{d:"M8.34285714 1.25714286c-1.02857143 0-2 .22857143-2.85714285.57142857l-1.6-1.6C2.2285714.97142857.85714283 2.2857143.17142854 4l1.6 1.6c-.4.85714286-.62857143 1.82857143-.62857143 2.85714286 0 3.94285714 3.2 7.20000004 7.2 7.20000004 3.94285716 0 7.19999996-3.2 7.19999996-7.20000004 0-4-3.2-7.2-7.19999997-7.2"}),te.a.createElement("path",{d:"M7.6 11.4285714C8.34285714 9.77142857 9.65714286 8.4 11.3142857 7.7142857L5.4857143 1.8857143c-1.65714287.74285713-3.02857144 2.05714284-3.71428573 3.77142856L7.6 11.4285714zm4.1714286-1.77142854C10.8 10.0571429 10 10.8571429 9.6 11.8285714L12.3428571 12.4l-.5714285-2.74285714z",fill:"#FFF"}),te.a.createElement("path",{d:"M11.7714286 9.65714286c-.2285715-1.02857143-.4-2-.4-2C9.7142857 8.4 8.34285714 9.7142857 7.65714286 11.3714286l2 .4C10 10.8571429 10.8 10.0571429 11.7714286 9.65714286"}))}function ve(e){var t=e.className,e=void 0===(e=e.fill)?null:e;return te.a.createElement("svg",{width:"16",height:"10",viewBox:"0 0 16 10",className:Object(ae.a)("svgicon","svgicon--embed",t)},te.a.createElement("path",{d:"M5.142 10c-.218 0-.438-.08-.606-.244L.25 5.59c-.334-.326-.334-.855 0-1.178L4.537.244c.335-.325.876-.325 1.212 0 .335.325.335.854 0 1.178L2.068 5l3.68 3.578c.336.325.336.853 0 1.177-.167.164-.387.245-.606.245zm5.716 0c-.22 0-.44-.08-.607-.245-.334-.324-.334-.852 0-1.177L13.93 5l-3.678-3.578c-.335-.324-.335-.853 0-1.178.336-.325.877-.325 1.212 0l4.285 4.168c.334.323.334.852 0 1.178l-4.286 4.166c-.168.164-.388.244-.606.244z",fill:e,fillRule:"evenodd"}))}function Oe(e){var t=e.className,e=void 0===(e=e.fill)?null:e;return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:Object(ae.a)("svgicon","svgicon--whatsapp",t),fill:e},te.a.createElement("path",{fillRule:"evenodd",d:"M5.764 4.064c-.155-.372-.272-.386-.507-.396-.08-.004-.17-.009-.268-.009-.306 0-.626.09-.819.287-.235.24-.818.8-.818 1.947 0 1.148.837 2.258.95 2.413.117.155 1.632 2.544 3.982 3.518 1.839.762 2.384.691 2.803.602.61-.132 1.377-.583 1.57-1.129.193-.545.193-1.011.136-1.11-.056-.098-.211-.155-.446-.272-.235-.118-1.378-.682-1.594-.758-.212-.08-.414-.051-.574.174-.225.316-.446.635-.625.828-.141.15-.372.17-.564.09-.259-.109-.983-.363-1.876-1.158-.692-.615-1.162-1.382-1.298-1.612-.136-.236-.014-.372.094-.499.118-.146.23-.25.348-.386.118-.136.183-.207.259-.367.08-.155.023-.315-.033-.432-.057-.118-.527-1.266-.72-1.731zM7.998 0C3.588 0 0 3.588 0 8c0 1.75.564 3.372 1.523 4.689L.527 15.66 3.6 14.68A7.937 7.937 0 008.002 16C12.412 16 16 12.411 16 8s-3.587-8-7.998-8h-.004z"}))}function je(e){var t=e.className,e=void 0===(e=e.fill)?null:e;return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 1000 1000",className:Object(ae.a)("svgicon","svgicon--telegram",t),fill:e},te.a.createElement("circle",{fill:e,cx:"500",cy:"500",r:"500"}),te.a.createElement("path",{d:"M226.328 494.722c145.76-63.505 242.957-105.372 291.59-125.6 138.855-57.755 167.707-67.787 186.513-68.118 4.137-.073 13.385.952 19.375 5.813 5.059 4.104 6.45 9.649 7.117 13.54.666 3.892 1.495 12.757.836 19.684-7.525 79.061-40.084 270.924-56.648 359.474-7.009 37.47-20.81 50.033-34.17 51.262-29.036 2.672-51.085-19.189-79.208-37.624-44.006-28.847-68.867-46.804-111.583-74.953-49.366-32.531-17.364-50.411 10.77-79.631C468.281 550.92 596.214 434.556 598.69 424c.31-1.32.597-6.241-2.326-8.84-2.924-2.598-7.239-1.71-10.353-1.003-4.413 1.002-74.714 47.468-210.902 139.4-19.955 13.702-38.03 20.378-54.223 20.028-17.853-.386-52.194-10.094-77.723-18.393-31.313-10.178-56.2-15.56-54.032-32.846 1.128-9.003 13.527-18.211 37.196-27.624z",fill:"#FFF"}))}function we(e){var t=e.className,e=void 0===(e=e.fill)?null:e;return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 18 15",className:Object(ae.a)("svgicon","svgicon--email",t),fill:e},te.a.createElement("path",{d:"M15 .15A2.85 2.85 0 0117.85 3v9A2.85 2.85 0 0115 14.85H3A2.85 2.85 0 01.15 12V3A2.85 2.85 0 013 .15zm0 1.7H3A1.15 1.15 0 001.85 3v9c0 .635.515 1.15 1.15 1.15h12A1.15 1.15 0 0016.15 12V3A1.15 1.15 0 0015 1.85zm-.336 2.619a.85.85 0 01-.048 1.117l-.085.078-4.938 3.95a.95.95 0 01-1.078.075l-.108-.075-4.938-3.95a.85.85 0 01.967-1.394l.095.066L9 7.911l4.469-3.575a.85.85 0 011.195.133z"}))}function ke(e){var t=e.className,e=void 0===(e=e.fill)?null:e;return te.a.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:Object(ae.a)("svgicon","svgicon--copy-url",t),fill:e},te.a.createElement("path",{d:"M9.242 5.878a3.913 3.913 0 01.156 5.427l-.156.162-2.49 2.447a3.913 3.913 0 01-5.578.012 3.912 3.912 0 01-.16-5.422l.154-.16.753-.753a.85.85 0 011.278 1.115l-.076.087-.759.758a2.213 2.213 0 00.012 3.173 2.213 2.213 0 003.025.127l.147-.138 2.504-2.46a2.212 2.212 0 000-3.16.85.85 0 011.19-1.215zM11.21 0c1.052 0 2.06.423 2.783 1.162a3.912 3.912 0 01.16 5.423l-.154.16-.753.753a.85.85 0 01-1.278-1.115l.076-.087.76-.759a2.213 2.213 0 00-.013-3.173 2.212 2.212 0 00-3.021-.13l-.146.136-2.465 2.465a2.213 2.213 0 00-.135 3.017l.135.144A.85.85 0 115.97 9.21a3.913 3.913 0 01-.16-5.423l.154-.16 2.453-2.453A3.912 3.912 0 0111.21 0z"}))}var Ee=O(O({},n),{},{bookmark:{type:"bookmark",title:Object(oe.a)("post.bookmark.label")},comments:{count:0,type:"comments",title:Object(oe.a)("post.comments.label")},ljReposters:{count:0,users:[],isReceived:!1},likus:{count:0,type:"heart",title:Object(oe.a)("post.likus.label"),liked:!1,likedList:[],likedListIsFull:!1},showLikusPopup:!1,showLjRepostersPopup:!1,showBookmarkPopup:!1,showMoreModal:!1,showLjRepostersModal:!1,journalName:"",itemId:"",journalID:"",isOwner:!1,allowCommenting:!1,postURL:"",postTitle:""}),Se=(Object(ne.ljGet)("remote_is_sup")||delete Ee.socialSharings.ok,function(v){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Ee,t=1<arguments.length?arguments[1]:void 0,n=T(v),r=n.PATCH_STATE,o=n.INIT,a=n.CLOSE_ALL,i=n.COMMENTS_COUNT,c=n.CHANGE_COMMENTS_COUNTER,l=n.TOGGLE_LIKUS,s=n.TOGGLE_LIKUS_POPUP,u=n.TOGGLE_LJREPOSTERS_POPUP,p=n.GET_ALL_LIKUS_USER,f=n.UPDATE_LIKUS,d=n.UPDATE_LJREPOSTERS,m=n.TOGGLE_MORE_MODAL,b=n.TOGGLE_LJREPOSTERS_MODAL,h=n.TOGGLE_BOOKMARK_POPUP,n=n.UPDATE_SHARE_DATA;switch(t.type){case r:return O(O({},e),t.patchObj);case o:return O(O({},e),{},{journalName:t.journalName,itemId:t.itemId,journalID:t.journalID,isOwner:t.isOwner,allowCommenting:t.allowCommenting});case c:return O(O({},e),{},{comments:O(O({},e.comments),{},{count:e.comments.count+t.value})});case l:return O(O({},e),{},{likus:O(O({},e.likus),{},{count:e.likus.liked?e.likus.count-1:e.likus.count+1,liked:!e.likus.liked})});case a:return O(O({},e),{},{showBookmarkPopup:!1,showLikusPopup:!1,showLjRepostersPopup:!1});case i:return O(O({},e),{},{comments:O(O({},e.comments),{},{count:t.data})});case s:return O(O({},e),{},{showLikusPopup:void 0!==t.state?t.state:!e.showLikusPopup});case u:return O(O({},e),{},{showLjRepostersPopup:void 0!==t.state?t.state:!e.showLjRepostersPopup});case p:return O(O({},e),{},{likus:O(O({},e.likus),{},{likedListIsFull:t.value})});case f:return O(O({},e),{},{likus:O(O({},e.likus),t.data)});case d:return O(O({},e),{},{ljReposters:O(O(O({},e.ljReposters),t.data),{},{isReceived:!0})});case m:return O(O({},e),{},{showMoreModal:!e.showMoreModal});case b:return O(O({},e),{},{showLjRepostersModal:!e.showLjRepostersModal});case n:var y=t.share.type,g=e.socialSharings[y];return O(O({},e),{},{socialSharings:O(O({},e.socialSharings),{},de({},y,O(O({},g),t.share.data)))});case h:return O(O({},e),{},{showBookmarkPopup:t.data});default:return e}}}),c=e(12),Pe=e(20),r=e(5),ae=e(2),ie=(e(74),e(29)),_e=e(70),o=e(314),a=e(312),Le=e(313),l=e(315),s=e(4),Ne=e(73),D=e(93),x=e(161),v=e(42);function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=De(n),t=(e=r?(e=De(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u={modal:{maxWidth:460},title:{marginBottom:48},LikusMoreRow:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:0,paddingRight:0,borderBottom:"1px solid ".concat(s.a.gray.c3),"&:last-child":{border:0}},userName:{marginLeft:9},addButton:{height:"auto",padding:[5,5],marginLeft:"auto"},dropdownButton:{height:"auto",padding:[6,7],marginLeft:"auto"}},d=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ie(t,e);var n,r=Te(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,n=e.sheet.classes,t=e.title,r=e.onClose,o=e.list,a=e.open,i=e.handleAddFriend,c=e.handleRemoveFriend;return te.a.createElement(Ne.a,{className:n.modal,classNameTitle:n.title,title:t,onClose:r,open:a},te.a.createElement("div",null,o.map(function(e,t){return te.a.createElement(v.b,{text:!0,key:t,className:n.LikusMoreRow},te.a.createElement(x.a,{image:e.userpic||"".concat(Object(ne.ljGet)("siteroot"),"/img/userpics/userpic-user.png")}),te.a.createElement(D.a,{className:n.userName,profile:e.profile_url,user:e.display_username||e.username,journal:e.journal_url,target:"_blank"}),e.is_friend?te.a.createElement(ie.a,{className:n.dropdownButton,IconType:"close",text:Object(oe.a)("post.prev-next-post.in-friends"),onClick:function(){return c(e.id)}}):Object(ne.ljGet)("remote")?te.a.createElement(ie.a,{className:n.addButton,IconType:"add",text:Object(oe.a)("post.header.common.add"),onClick:function(){return i(e.id)}}):te.a.createElement("a",{href:"".concat(Object(ne.ljGet)("siteroot"),"/subscribers/add?instant_relation=1&user=").concat(e.username,"&instant_relation_source=likus_popup")},te.a.createElement(ie.a,{className:n.addButton,IconType:"add",text:Object(oe.a)("post.header.common.add")})))})))}}])&&Re(t.prototype,e),n&&Re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),xe=Object(r.a)(u)(d);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Me(n),t=(e=r?(e=Me(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ae(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u={modal:{maxWidth:460},title:{marginBottom:48},RepostersMoreRow:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:0,paddingRight:0,borderBottom:"1px solid ".concat(s.a.gray.c3),"&:last-child":{border:0}},userName:{marginLeft:9},addButton:{height:"auto",padding:[5,5],marginLeft:"auto"},dropdownButton:{height:"auto",padding:[6,7],marginLeft:"auto"}},d=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ue(t,e);var n,r=Ge(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,l=e.sheet.classes,t=e.title,n=e.onClose,r=e.list,o=e.open,s=e.handleAddFriend,u=e.handleRemoveFriend,p=e.loadLjReposters;return te.a.createElement(Ne.a,{className:l.modal,classNameTitle:l.title,title:t,onClose:n,open:o},te.a.createElement("div",null,r.map(function(e,t){var n=e.userpic,n=void 0===n?"".concat(Object(ne.ljGet)("siteroot"),"/img/userpics/userpic-user.png"):n,r=e.profile,o=e.user,o=void 0===o?"":o,a=(e.journal,e.url),i=e.userid,c=void 0===i?null:i,i=e.is_friend;return te.a.createElement(v.b,{text:!0,key:t,className:l.RepostersMoreRow},te.a.createElement(x.a,{image:n}),te.a.createElement(D.a,{className:l.userName,profile:void 0===r?"":r,user:o,journal:void 0===a?"":a,target:"_blank"}),(void 0===i?null:i)?te.a.createElement(ie.a,{className:l.dropdownButton,IconType:"close",text:Object(oe.a)("post.prev-next-post.in-friends"),onClick:function(){u(c),p()}}):Object(ne.ljGet)("remote")?te.a.createElement(ie.a,{className:l.addButton,IconType:"add",text:Object(oe.a)("post.header.common.add"),onClick:function(){s(c),p()}}):te.a.createElement("a",{href:"".concat(Object(ne.ljGet)("siteroot"),"/subscribers/add?instant_relation=1&user=").concat(o.username,"&instant_relation_source=likus_popup")},te.a.createElement(ie.a,{className:l.addButton,IconType:"add",text:Object(oe.a)("post.header.common.add")})))})))}}])&&Be(t.prototype,e),n&&Be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),ze=Object(r.a)(u)(d),u=s.a.gray.c16,d=s.a.gray.c17,m=s.a.red.c1,d={item:{position:"relative",display:"inline-block",height:17,fontSize:0,fontFamily:"inherit",padding:0,border:0,outline:0,backgroundColor:"transparent",cursor:"pointer","&:active $counter":{color:s.a.gray.c6},"&:hover $icon svg, &:hover .svgicon--vk path:nth-child(1), &:hover svg path":{fill:d,transition:"fill .2s ease"},"&:hover $icon .svgicon--lj path:nth-child(2), &:hover .svgicon--vk path:nth-child(2), &:hover .svgicon--telegram path":{fill:s.a.white.c1,transition:"fill .2s ease"},"&:hover $counter":{color:d,transition:"fill .2s ease"}},staticBtn:{pointerEvents:"none !important","& svg":{pointerEvents:"none !important"}},icon:{display:"inline-block",width:17,height:17,transition:"all .2s ease",opacity:.5,"& span":{display:"inline-block",width:16,height:16},"& svg":{width:16,height:16,fill:u},"& .svgicon--bookmark":{height:15},"& .svgicon--lj, & .svgicon--fb, & .svgicon--ok, & .svgicon--vk, & .svgicon--twitter, & .svgicon--share, & .svgicon--comments":{width:17,height:17}},iconActive:{"& svg":{fill:m}},counter:{display:"inline-block",height:16,fontSize:14,fontWeight:600,lineHeight:"20px",color:u,margin:[0,0,0,8],verticalAlign:"top",transition:"fill .2s ease",opacity:.5},activeIcon:{opacity:1},activeCounter:{cursor:"pointer",opacity:1,"&:visited":{color:u}}};function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return(Ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function We(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=$e(n),t=(e=r?(e=$e(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===He(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Je(t)}}function Je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ke(t,e);var n,r=We(o);function o(e){if(this instanceof o)return(e=r.call(this,e)).onClick=e.onClick.bind(Je(e)),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"onClick",value:function(e){this.props.onClickItem&&this.props.onClickItem(e)}},{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.className,r=e.classNameIcon,o=e.classNameCounter,a=e.iconUrl,i=e.svg,c=e.value,l=e.title,s=e.staticBtn,s=void 0!==s&&s,u=e.showCounter,u=void 0===u||u,p=e.activeLike,e=e.activeBookmark;return a?te.a.createElement("a",{className:Object(ae.a)([n,t.item,s?t.staticBtn:""]),href:a,target:"_blank"},te.a.createElement("span",{className:Object(ae.a)([r,t.icon,p&&t.activeLike,e&&t.activeBookmark,t.activeIcon]),title:l},i),u&&c&&te.a.createElement("span",{className:Object(ae.a)([o,t.counter,t.activeCounter])},c)):te.a.createElement("button",{className:Object(ae.a)([n,t.item,s?t.staticBtn:""]),onClick:this.onClick},te.a.createElement("span",{className:Object(ae.a)([r,t.icon,t.activeIcon]),title:l},i),u&&c&&te.a.createElement("span",{className:Object(ae.a)([o,t.counter,t.activeCounter])},c))}}])&&Fe(t.prototype,e),n&&Fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),ce=Object(r.a)(d)(m),Ve=e(72),qe=e(126),u={root:{position:"relative",display:"inline-block",height:35,fontSize:0,cursor:"pointer","&:hover $icon .svgicon":{fill:s.a.gray.c17,transition:"fill .2s ease"},"&:hover $activeLike .svgicon path":{fill:s.a.red.c1,transition:"fill .2s ease"},"&:hover $counterItem":{color:s.a.gray.c17,transition:"fill .2s ease"}},staticBtn:{pointerEvents:"none !important","& svg":{pointerEvents:"none !important"}},icon:{display:"inline-block",width:16,height:16,padding:0,border:0,outline:0,backgroundColor:"transparent",transition:"all .2s ease","& span":{display:"inline-block",width:16,height:16},"& .svgicon":{width:16,height:16,fill:s.a.gray.c16}},disabled:{opacity:.5,cursor:"not-allowed","&:focus svg":{fill:"#C8D4DA"},"&:hover svg":{fill:"#C8D4DA"}},activeLike:{"& svg path":{fill:s.a.red.c1}},counterItem:{position:"relative",display:"inline-block",height:16,margin:[0,0,0,8],verticalAlign:"top",fontSize:14,fontWeight:600,color:s.a.gray.c16,lineHeight:"20px",border:0,outline:0,backgroundColor:"transparent",transition:"fill .2s ease","& span:focus":{outline:0},"&:visited":{color:s.a.gray.c16}},popup:{minWidth:110,paddingLeft:0,paddingRight:0,zIndex:100,"& a, & span":{display:"block",color:"#fff",padding:[4,8],lineHeight:"16px"},"& a:hover, & a:focus, & span:hover, & span:focus":{textDecoration:"underline"},"&::before":{content:'""',position:"absolute",top:-8,left:-16,right:-16,bottom:-16,cursor:"default",zIndex:-1}}};function Xe(e){return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ye(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=et(n),t=(e=r?(e=et(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Xe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=["bottom","top"],d=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qe(t,e);var n,r=Ye(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.className,r=e.classNameIcon,o=e.classNameCounter,a=e.title,i=e.activeLike,c=e.value,l=e.open,s=e.likedList,u=e.limit,p=e.btnAction,f=e.staticBtn,f=void 0!==f&&f,d=e.onClickIcon,m=e.onMouseEnterItem,b=e.onMouseLeaveItem,e=e.onMouseEnterCounter,p=l?te.a.createElement(qe.a,{className:t.popup},s&&s.slice(0,u).map(function(e,t){return te.a.createElement("a",{href:e.journal_url,key:e.username||t,target:"_blank",rel:"noopener noreferrer"},e.display_username||e.username)}),s&&s.length>u&&te.a.createElement("span",{tabIndex:0,role:"button",onClick:p},Object(oe.a)("post.likus.more-people",{count:s.length-u}))):void 0;return te.a.createElement("div",{className:Object(ae.a)(n,t.root,f&&t.staticBtn),onMouseEnter:m,onMouseLeave:b},te.a.createElement(ie.a,{className:Object(ae.a)(r,t.icon,i&&t.activeLike),Icon:te.a.createElement(be,null),onClick:d,title:a}),c&&te.a.createElement(Ve.a,{className:Object(ae.a)(o,t.counterItem),popup:p,positions:tt,offset:10,shift:12,isOpen:l,arrow:!0},te.a.createElement("span",{role:"button","aria-pressed":l,"aria-haspopup":!0,tabIndex:0,onMouseEnter:e,onKeyUp:e},c)))}}])&&Ze(t.prototype,e),n&&Ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),nt=Object(r.a)(u)(d),m=s.a.gray.c16,u=s.a.gray.c17,d=s.a.red.c1,d={item:{position:"relative",display:"inline-block",height:17,fontSize:0,fontFamily:"inherit",padding:0,border:0,outline:0,backgroundColor:"transparent",cursor:"pointer","&:active $counter":{color:s.a.gray.c6},"&:hover $icon svg, &:hover .svgicon--vk path:nth-child(1), &:hover svg path":{fill:u,transition:"fill .2s ease"},"&:hover $icon .svgicon--lj path:nth-child(2), &:hover .svgicon--vk path:nth-child(2), &:hover .svgicon--telegram path":{fill:s.a.white.c1,transition:"fill .2s ease"},"&:hover $counter":{color:u,transition:"fill .2s ease"}},staticBtn:{pointerEvents:"none !important","& svg":{pointerEvents:"none !important"}},icon:{display:"inline-block",width:17,height:17,transition:"all .2s ease",opacity:.5,"& span":{display:"inline-block",width:16,height:16},"& svg":{width:16,height:16,fill:m},"& .svgicon--bookmark":{height:15},"& .svgicon--lj, & .svgicon--fb, & .svgicon--ok, & .svgicon--vk, & .svgicon--twitter, & .svgicon--share, & .svgicon--comments":{width:17,height:17}},iconActive:{"& svg":{fill:d}},counter:{display:"inline-block",height:16,fontSize:14,fontWeight:600,lineHeight:"20px",color:m,margin:[0,0,0,8],verticalAlign:"top",transition:"fill .2s ease",opacity:.5},counterItem:{position:"relative",display:"inline-block",height:16,margin:[0,0,0,8],verticalAlign:"top",fontSize:14,fontWeight:600,color:s.a.gray.c16,lineHeight:"20px",border:0,outline:0,backgroundColor:"transparent",transition:"fill .2s ease","& span:focus":{outline:0},"&:visited":{color:s.a.gray.c16},"&:hover":{color:u}},activeIcon:{opacity:1},activeCounter:{cursor:"pointer",opacity:1,"&:visited":{color:m}},popup:{minWidth:110,paddingLeft:0,paddingRight:0,zIndex:100,"& a, & span":{display:"block",color:"#fff",padding:[4,8],lineHeight:"16px"},"& a:hover, & a:focus, & span:hover, & span:focus":{textDecoration:"underline"},"&::before":{content:'""',position:"absolute",top:-8,left:-16,right:-16,bottom:-16,cursor:"default",zIndex:-1}}};function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function at(e,t){return(at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function it(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=lt(n),t=(e=r?(e=lt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ct(t)}}function ct(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=["bottom","top"],u=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&at(t,e);var n,r=it(o);function o(e){if(this instanceof o)return(e=r.call(this,e)).onClick=e.onClick.bind(ct(e)),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"onClick",value:function(){this.props.onClickItem&&this.props.onClickItem()}},{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.className,r=e.classNameIcon,o=e.classNameCounter,a=e.svg,i=e.value,c=e.title,l=e.staticBtn,l=void 0!==l&&l,s=e.showCounter,s=void 0===s||s,u=e.open,p=e.limit,f=e.repostersList,d=e.btnAction,m=e.onMouseEnterItem,b=e.onMouseLeaveItem,e=e.onMouseEnterCounter,d=u?te.a.createElement(qe.a,{className:t.popup},f&&f.slice(0,p).map(function(e,t){return te.a.createElement("a",{href:e.url,key:e.user+Math.random()||t+Math.random(),target:"_blank",rel:"noopener noreferrer"},e.user)}),f&&f.length>p&&te.a.createElement("span",{tabIndex:0,role:"button",onClick:d},Object(oe.a)("post.reposters.more-people",{count:f.length-p}))):void 0;return te.a.createElement("span",{className:Object(ae.a)([n,t.item,l?t.staticBtn:""]),onMouseEnter:m,onMouseLeave:b},te.a.createElement("span",{className:Object(ae.a)([r,t.icon,t.activeIcon]),title:c,onClick:this.onClick},a),s&&i&&te.a.createElement(Ve.a,{className:Object(ae.a)(o,t.counterItem),popup:d,positions:st,offset:10,shift:12,isOpen:u,arrow:!0},te.a.createElement("span",{role:"button","aria-pressed":u,"aria-haspopup":!0,tabIndex:0,onMouseEnter:e,onKeyUp:e},i)))}}])&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),ut=Object(r.a)(d)(u),pt=e(163),ft=e(77),dt=e(193),mt=e(194),m={bookmarkItem:{display:"inline-block"},counter:{position:"relative",display:"inline-flex"},popup:{maxWidth:220,zIndex:100,"&:before":{content:'""',position:"absolute",top:-25,left:-25,display:"block",width:"100%",height:"100%",padding:25,zIndex:0},"& h4":{marginRight:24},"& > button svg":{width:12,height:12}},root:{position:"relative",display:"inline-block",height:35,fontSize:0,cursor:"pointer","&:hover $icon svg":{fill:s.a.gray.c17,transition:"fill .2s ease"},"&:hover $activeBookmark svg":{fill:s.a.blue.c1,transition:"fill .2s ease"},"&:hover $counterItem":{color:s.a.gray.c17,transition:"fill .2s ease"}},icon:{display:"inline-block",width:16,height:16,padding:0,border:0,outline:0,backgroundColor:"transparent",transition:"all .2s ease","& span":{display:"inline-block",width:16,height:16},"& .svgicon":{width:16,height:16,fill:s.a.gray.c16}},disabled:{opacity:.5,cursor:"not-allowed","&:hover svg":{fill:"#C8D4DA"},"&:focus .svgicon--bookmark":{fill:"#C8D4DA"}},activeBookmark:{"& .svgicon--bookmark":{fill:s.a.blue.c1},"&:focus .svgicon--bookmark":{fill:s.a.blue.c1},"&:hover .svgicon--bookmark path":{fill:s.a.blue.c1}},counterItem:{display:"inline-block",height:16,margin:[0,0,0,8],verticalAlign:"top",fontSize:14,fontWeight:600,color:s.a.gray.c16,lineHeight:"20px",border:0,outline:0,backgroundColor:"transparent",transition:"fill .2s ease"},removalButton:{zIndex:1,position:"relative"}};function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ht(){return(ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vt(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Ot(n),t=(e=r?(e=Ot(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===bt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gt(t,e);var n,r=vt(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var n=this,e=this.props,t=e.sheet.classes,r=e.className,o=e.classNameIcon,a=e.classNameCounter,i=e.title,c=e.activeBookmark,l=e.count,s=e.open,u=e.positions,p=e.privacy,f=e.settingsUrl,d=e.onClickItem,m=e.onClosePopup,b=e.onChangePrivacy,h=e.onClickRemove,y=e.onMouseEnterItem,e=e.onMouseLeaveItem,g=[{labelText:Object(oe.a)("post.bookmark.available-to-everybody"),value:"public"},{labelText:Object(oe.a)("post.bookmark.available-only-to-me"),value:"private"},{labelText:Object(oe.a)("post.bookmark.available-only-to-friends"),value:"friends"}],m=s?te.a.createElement(pt.a,{className:t.popup,onCloseClick:m},te.a.createElement(ft.a,{text:Object(oe.a)("post.bookmark.added-to-bookmarks")}),te.a.createElement(v.b,{text:!0},te.a.createElement(dt.a,{text:Object(oe.a)("post.bookmark.remove-from-bookmarks"),className:t.removalButton,black:!0,onClick:h})),te.a.createElement("hr",null),te.a.createElement(ft.a,{text:Object(oe.a)("post.bookmark.available")}),te.a.createElement(v.b,null,g.map(function(e,t){return te.a.createElement(mt.a,ht({},e,{name:n.radioName,id:"".concat(n.radioName).concat(t),key:t,checked:e.value===p,onChange:function(){return b(e.value)}}))})),te.a.createElement("hr",null),te.a.createElement(v.b,{text:!0},te.a.createElement(dt.a,{target:"_blank",href:f,text:Object(oe.a)("post.bookmark.settings")}))):void 0;return te.a.createElement("div",{className:Object(ae.a)(r,t.root),onMouseEnter:y,onMouseLeave:e},te.a.createElement(Ve.a,{className:Object(ae.a)(a,t.counter),positions:u,shift:24,offset:16,popup:m,isOpen:s,arrow:!0},te.a.createElement(ie.a,{className:Object(ae.a)(o,t.icon,c&&t.activeBookmark),Icon:te.a.createElement(ye,null),title:i,onClick:d})),l&&te.a.createElement("span",{className:Object(ae.a)(t.counterItem),"aria-pressed":this.props.open,"aria-haspopup":!0,onClick:d},l))}}])&&yt(t.prototype,e),n&&yt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),jt=(d.defaultProps={positions:["bottom","top"]},Object(r.a)(m)(d));u={root:{width:"100%",listStyle:"none",display:"flex",margin:0,padding:"16px 0",lineHeight:"16px",borderTop:"1px solid ".concat(s.a.gray.c2),borderBottom:"1px solid ".concat(s.a.gray.c2)},socialBtn:{verticalAlign:"top",marginRight:24,whiteSpace:"nowrap"},socialToggleBtn:{marginRight:0},holder:{display:"inline-block",height:16,lineHeight:"16px",verticalAlign:"middle"},holderSocialCounts:{"@media (max-width: 380px)":{"& > *":{marginRight:"20px !important"}},"@media (max-width: 340px)":{"& > *":{marginRight:"15px !important"}}},addFriendBtn:{bottom:8,position:"relative"},repostBtn:{marginRight:0},shareBtn:{display:"inline-block",height:16,fontSize:0,transition:"fill .2s ease","& svg":{width:16,height:16}},closeBtn:{display:"inline-block",height:16,fontSize:0,cursor:"pointer",transition:"fill .2s ease","& svg":{width:14,height:19}},socialNets:{marginLeft:"auto","& $socialBtn:last-child":{marginRight:0}}},m={bottom:8,position:"relative",".logged-out .aentry-post__socials--bottom &":{display:"none"}},(d="addFriendBtn")in u?Object.defineProperty(u,d,{value:m,enumerable:!0,configurable:!0,writable:!0}):u[d]=m;d=u;function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Et(e,t){return(Et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function St(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=_t(n),t=(e=r?(e=_t(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Pt(t)}}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(){}var se={heart:te.a.createElement(be,null),comments:te.a.createElement(he,null),bookmark:te.a.createElement(ye,null),lj:te.a.createElement(ge,null),fb:te.a.createElement(o.a,null),tw:te.a.createElement(l.a,null),vk:te.a.createElement(Le.a,null),ok:te.a.createElement(a.a,null),whatsapp:te.a.createElement(Oe,null),telegram:te.a.createElement(je,null),email:te.a.createElement(we,null),copyURL:te.a.createElement(ke,null),embed:te.a.createElement(ve,null)},m=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Et(t,e);var n,r=St(o);function o(e){if(this instanceof o)return(e=r.call(this,e)).state={showLikesNotSharings:!0,otherUsers:null},e.toggle=e.toggle.bind(Pt(e)),e.handleScroll=e.handleScroll.bind(Pt(e)),e.noMissClick=e.noMissClick.bind(Pt(e)),e.refIsMounted=!1,e.isDidMount=!1,e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,!1),this.isDidMount=!0}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1),window.removeEventListener("resize",this.setSize,!1)}},{key:"toggle",value:function(){this.setState({showLikesNotSharings:!this.state.showLikesNotSharings})}},{key:"counterSum",value:function(e){return Object.values(e).reduce(function(e,t){return e+t.value},0)}},{key:"handleScroll",value:function(){(this.props.showLikusPopup||this.props.showBookmarkPopup||this.props.showLjRepostersPopup)&&this.props.actions.closeAllPopups&&this.props.actions.closeAllPopups()}},{key:"noMissClick",value:function(){this.props.noMissClick&&this.props.noMissClick()}},{key:"render",value:function(){function e(e){t.socialPanelRef=e,!t.emittedLoadedEvent&&t.socialPanelRef&&(ne.ljEvent.emit("socialPanelLoaded",{node:t.socialPanelRef}),t.emittedLoadedEvent=!0)}var t=this,n=this.props,r=n.sheet.classes,o=n.className,A=n.classFirstList,B=n.classSecondList,U=n.classCloseBtn,G=n.classCloseBtnIcon,a=n.classSocialSharing,i=n.classSocialBtn,M=n.classToggleBtn,c=n.classNameIcon,l=n.classNameCounter,z=n.classBookmark,H=n.classCommentBtn,F=n.classLikus,s=n.showAll,s=void 0!==s&&s,u=n.allowCommenting,u=void 0!==u&&u,p=n.static,p=void 0!==p&&p,f=n.comments,d=n.bookmark,m=n.socialSharings,b=n.needCounter,b=void 0!==b&&b,h=n.addFriend,y=n.removeFriend,g=n.actions,v=n.likus,O=n.ljReposters,j=void 0===O?{count:0,users:[],isReceived:!1}:O,O=n.showLikusPopup,w=n.showLjRepostersPopup,K=n.showBookmarkPopup,W=n.showMoreModal,J=n.showLjRepostersModal,$=n.journalName,V=n.itemId,k=n.medius,k=void 0!==k&&k,q=n.isBelowPost,X=n.hide,E=n.showShareCounts,Z=void 0===E||E,E=n.likeReactionsEnabled,S=n.postURL,n=this.state,P=n.showLikesNotSharings,n=n.otherUsers,_=g.toggleLikus,Q=void 0===_?le:_,_=g.toggleLikusPopup,Y=void 0===_?le:_,_=g.toggleLjRepostersPopup,L=void 0===_?le:_,_=g.loadLjReposters,_=void 0===_?le:_,N=g.closeAllPopups,C=void 0===N?le:N,N=g.toggleMoreModal,ee=void 0===N?le:N,N=g.toggleLjRepostersModal,R=void 0===N?le:N,N=g.handleBookmark,I=void 0===N?le:N,N=g.toggleBookmarkPopup,T=void 0===N?le:N,N=g.openCommentForm,N=void 0===N?le:N,D=g.onShareClick||g.shareSocial||le,g=LJ.Flags.isDisabled("homepage_v3"),x=te.a.createElement(ce,{iconUrl:ne.ljSharings.getShareParams("email",S).shareLinkUrl,className:Object(ae.a)(a,r.socialBtn),classNameIcon:c,classNameCounter:l,svg:se.email,key:"email"});return k?te.a.createElement("div",{className:Object(ae.a)([o,r.root,"social-panel","js--social-panel"]),"aria-label":Object(oe.a)("post.social.label"),ref:e},Object.keys(m).map(function(t,e){var n=m[t];return"lj"===t?te.a.createElement(ut,{className:Object(ae.a)(a,r.socialBtn),key:e,classNameIcon:c,classNameCounter:l,svg:se[t],value:n.value,title:n.title,open:w,limit:5,onClickItem:function(){return D(t)},onMouseEnterItem:C,onMouseLeaveItem:function(){return L(!1)},onMouseEnterCounter:function(){return L(!0)},repostersList:j.users,btnAction:function(){R(),C()}}):"email"===t?te.a.createElement("span",{className:r.holder,key:"email"},x):te.a.createElement("span",{className:r.holder,key:e},te.a.createElement(ce,{className:Object(ae.a)(a,r.socialBtn),classNameIcon:c,classNameCounter:l,svg:se[t],showCounter:!0,value:n.value,title:n.title,onClickItem:function(e){return D(t,e)}}))})):te.a.createElement("div",{style:X?{display:"none"}:{display:"flex"},className:Object(ae.a)([o,r.root,P?A:B,P?r.likes:r.share,"social-panel","js--social-panel"]),"aria-label":Object(oe.a)("post.social.label"),ref:e},P||s?te.a.createElement("span",{className:Object(ae.a)([r.holder,r.holderSocialCounts])},!g&&u&&!E&&te.a.createElement(nt,{className:Object(ae.a)(i,F,r.socialBtn),classNameIcon:c,classNameCounter:l,title:v.title,activeLike:v.liked,onClickIcon:function(){Q(v),C()},onMouseEnterItem:C,onMouseLeaveItem:function(){return Y(!1)},onMouseEnterCounter:function(){return Y(!0)},value:v.count,staticBtn:p,open:O,relativePosition:!0,likedList:v.likedList.length===v.count?v.likedList:v.likedList.slice(0,5),limit:5,otherUsers:n,btnAction:function(){ee(),C()}}),f&&(u||f.count)?te.a.createElement(ce,{className:Object(ae.a)(i,H,r.socialBtn),classNameIcon:c,classNameCounter:l,staticBtn:p,iconUrl:f.url,svg:se[f.type],value:f.count,title:f.title,onClickItem:N}):null,d&&Object(ne.ljGet)("remote")&&!p&&te.a.createElement(jt,{className:Object(ae.a)(i,z,r.socialBtn),classNameIcon:c,classNameCounter:l,title:d.title,onClickItem:function(){I({added:!0,privacy:d.privacy,page:S})},onMouseEnterItem:function(){T(!0)},onMouseLeaveItem:function(){T(!1)},activeBookmark:d.added,count:d.count,open:K,relativePosition:!0,onClosePopup:function(){T(!1)},onChangePrivacy:function(e){I({privacy:e})},onClickRemove:function(){I({added:!1})},privacy:d.privacy,settingsUrl:"".concat(Object(ne.ljGet)("siteroot"),"/tools/memadd.bml?journal=").concat($,"&itemid=").concat(V)}),re.a.isEnabled("addfriend_button")&&q&&!Object(ne.ljGet)("remote")&&Object(ne.ljGet)("addfriend_link")&&te.a.createElement(ie.a,{text:Object(oe.a)("talk.subscribe"),IconType:"add",path:"".concat(Object(ne.ljGet)("addfriend_link"),"&instant_relation_source=after_post"),className:Object(ae.a)(a,r.addFriendBtn)})):null,P||s?null:Object.keys(m).map(function(t,e){if("email"===t)return te.a.createElement("span",{className:r.holder,key:e},x);var n=m[t];return"lj"===t?te.a.createElement(ut,{className:Object(ae.a)(a,r.socialBtn),key:e,classNameIcon:c,classNameCounter:l,svg:se[t],value:n.value,title:n.title,open:w,limit:5,onClickItem:function(){return D(t)},onMouseEnterItem:C,onMouseLeaveItem:function(){return L(!1)},onMouseEnterCounter:function(){return L(!0)},repostersList:j.users,btnAction:function(){R(),C()}}):te.a.createElement("span",{className:r.holder,key:e},te.a.createElement(ce,{className:Object(ae.a)(a,r.socialBtn),classNameIcon:c,classNameCounter:l,svg:se[t],showCounter:Z,value:n.value,title:n.title,onClickItem:function(e){return D(t,e)}}))}),te.a.createElement("span",{className:Object(ae.a)(!s&&M,r.holder,s&&r.socialNets,!P&&U,P?r.shareBtn:r.closeBtn,!P&&"social-panel__close-btn"),onClick:s||p?null:this.toggle},s?Object.keys(m).map(function(t,e){if("email"===t)return x;var n=m[t];return"lj"===t?te.a.createElement(ut,{className:Object(ae.a)(a,r.socialBtn),key:e,classNameIcon:c,classNameCounter:l,svg:se[t],value:n.value,title:n.title,open:w,limit:5,onClickItem:function(){return D(t)},onMouseEnterItem:C,onMouseLeaveItem:function(){return L(!1)},onMouseEnterCounter:function(){return L(!0)},repostersList:j.users,btnAction:function(){R(),C()}}):te.a.createElement(ce,{className:Object(ae.a)(a,r.socialBtn),key:e,classNameIcon:c,classNameCounter:l,svg:se[t],value:n.value,title:n.title,onClickItem:function(e){return D(t,e)}})}):te.a.createElement(ce,{className:Object(ae.a)(r.socialBtn,r.socialToggleBtn,!P&&G),classNameIcon:c,classNameCounter:l,staticBtn:p,svg:P?te.a.createElement(me,null):te.a.createElement(_e.a,null),showCounter:b,value:b&&this.counterSum(m)})),v.likedList&&5<v.likedList.length?te.a.createElement(xe,{title:Object(oe.a)("post.likus.liked-the-post",{count:v.likedList.length}),activeLike:v.liked,onClose:ee,handleAddFriend:h,handleRemoveFriend:y,list:v.likedList,limit:5,open:W}):null,5<(null==j||null==(k=j.users)?void 0:k.length)?te.a.createElement(ze,{title:Object(oe.a)("post.reposters.reposted-the-post",{count:j.users.length}),onClose:R,list:j.users,limit:5,open:J,handleAddFriend:h,handleRemoveFriend:y,loadLjReposters:_}):null)}}])&&kt(t.prototype,e),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),Lt=Object(r.a)(d)(m);function Nt(e){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t){return(Rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Dt(n),t=(e=r?(e=Dt(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Tt(t)}}function Tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e);var n,r=It(o);function o(e){if(this instanceof o)return(e=r.call(this,e)).handleDocumentScroll=e.handleDocumentScroll.bind(Tt(e)),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleDocumentScroll,!1),window.addEventListener("resize",this.handleDocumentScroll,!1),this.handleDocumentScroll()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("resize",this.handleDocumentScroll,!1)}},{key:"handleDocumentScroll",value:function(){var e,t,n;!Site.page.endlessScrollEnabled&&(t=this.node.getBoundingClientRect(),n=document.body.getBoundingClientRect(),e=0<t.bottom,t=t.top<n.height,(n="top"===this.props.prop?e:t)!==this.props.show&&this.props.rootActions.toggle(this.props.prop,n))}},{key:"render",value:function(){var t=this,e=this.props,n=e.sheet.classes,r=e.comments,o=e.bookmark,a=e.socialSharings,i=e.buttons,c=e.actions,l=e.enabledSharings,s=e.rootActions,u=e.likus,p=e.ljReposters,f=e.allowCommenting,d=e.showLikusPopup,m=e.showLjRepostersPopup,b=e.showBookmarkPopup,h=e.showMoreModal,y=e.showLjRepostersModal,g=e.privacy,v=e.isOwner,O=e.pageSize,j=e.hide,w=e.journalName,k=e.itemId,E=e.prop,e=e.postURL;return te.a.createElement("div",{ref:function(e){t.node=e}},te.a.createElement(Lt,{classToggleBtn:n.toggleBtn,classSocialSharing:n.SocialSharingBtn,classNameCounter:n.btnCounter,classBookmark:n.bookmarkBtn,classCommentBtn:n.commentBtn,classLikus:n.likusBtn,postURL:e,showAll:750<O,showShareCounts:450<=O,comments:r,allowCommenting:f,bookmark:o,socialSharings:a,likus:u,ljReposters:p,buttons:i,showLikusPopup:d,showLjRepostersPopup:m,showLjRepostersModal:y,showBookmarkPopup:b,showMoreModal:h,enabledSharings:l,actions:c,showLjRepost:!v,addFriend:s.addFriend,removeFriend:s.removeFriend,privacy:g,journalName:w,itemId:k,isBelowPost:"bottom"===E,hide:j,likeReactionsEnabled:re.a.isEnabled("reactions")&&re.a.isEnabled("reactions_post")}))}}])&&Ct(t.prototype,e),n&&Ct(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),xt=Object(r.a)({SocialSharingBtn:{"&:last-child":{marginRight:0},"&:last-child $btnCounter":{marginRight:0}},btnCounter:{opacity:1},"@media (min-width: 751px)":{bookmarkBtn:{"&:last-child":{marginRight:0}}},"@media (max-width: 750px)":{SocialSharingBtn:{"&:last-child":{marginRight:24}},toggleBtn:{"& > span":{marginRight:0}}},"@media (max-width: 375px)":{SocialSharingBtn:{"&:last-child":{marginRight:14}}}})(u);function At(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Bt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?At(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):At(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Ut(e){return{actions:pe(e),constants:T(e),selectors:U(e),reducer:Se(e),container:Gt(e)}}var Gt=function(t){var a=U(t);return Object(i.b)(function(e,t){var n=a.getSocialState(e),r=p.getSocial(e),o=p.getUsers(e);return Bt(Bt({pageSize:Object(Pe.f)(e),show:r[t.prop]},n),{},{bookmark:Bt(Bt({},a.getBookmarkState(e)),p.getBookmarkState(e,n.postURL)),likus:a.getLikus(e,o),ljReposters:a.getLjRepostersState(e),enabledSharings:r.enabled,prop:t.prop,hide:"bottom"===t.prop&&r.top,postURL:n.postURL})},function(e){return{actions:Object(c.bindActionCreators)(pe(t),e),rootActions:Object(c.bindActionCreators)(f,e)}})(xt)};function Mt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach(function(e){Ht(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ht(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ft=function(n){return["PATCH_STATE","INIT","INIT_USER","INIT_NEXT_ARTICLES","GET_ALL_LIKUS_USER","TOGGLE_LIKUS","TOGGLE_LIKUS_POPUP","TOGGLE_MORE_MODAL","TOGGLE_BOOKMARK_POPUP","CHANGE_COMMENTS_COUNTER","CLOSE_ALL","COMMENTS_COUNT","DATA_LOADED","UPDATE_LIKUS","OPEN_COMMENT_FORM","UPDATE_SHARE_DATA"].reduce(function(e,t){return zt(zt({},e),{},Ht({},t,"".concat(t,"--").concat(n)))},{})};function Kt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Wt(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Kt(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Kt(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var Jt=function(t){function n(e){return e[t]}return{getSocialState:n,getSocialSharings:function(e){return n(e).socialSharings},getBookmarkState:function(e){return n(e).bookmark},getLikus:function(e,t){e=n(e).likus;return Wt(Wt({},e),{},{likedList:t?e.likedList.map(function(e){return t[e]}).filter(Boolean):e.likedList})}}},$t=!re.a.isEnabled("reactions")||!re.a.isEnabled("reactions_post"),Vt=function(e){function f(t){return function(e){e({type:n,patchObj:t})}}var d=Ft(e),n=d.PATCH_STATE,m=d.INIT,b=d.INIT_USER,h=d.INIT_NEXT_ARTICLES,t=d.CLOSE_ALL,r=d.TOGGLE_BOOKMARK_POPUP,y=d.DATA_LOADED,g=d.UPDATE_SHARE_DATA,v=Jt(e),O=v.getSocialSharings;return{patchState:f,init:function(){var p=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(n,e,t){var r=t.api,t=p.postID||Object(ne.ljGet)("entry.ditemid")||"",o=p.journalID||Object(ne.ljGet)("journal.id")||"",a=Object(ne.ljGet)("entry.journal")||"",i=Object(ne.ljGet)("entry.title")||"",c=Object(ne.ljGet)("current_journal.display_username")||"",l=Object(ne.ljGet)("current_journal.url_profile")||"",s=Object(ne.ljGet)("current_journal.url_userpic")||"",u=Object(ne.ljGet)("current_journal.url_journal")||"",i=(n({type:b,values:{title:i,username:c,profile:l,userpic:s,journalUrl:u}}),n({type:m,journalName:a,itemId:t,journalID:o,isOwner:Object(ne.ljGet)("remote.id")===Object(ne.ljGet)("journal.id"),allowCommenting:!!Object(ne.ljGet)("allow_commenting")}),n(z({initParams:p,selectors:v,constants:d})),r("entry.get_itemid_before",{ditemid:t,journal:a}).then(function(e){return n({type:h,field:"prevData",value:e||{}}),!0})),c=r("entry.get_itemid_after",{ditemid:t,journal:a}).then(function(e){return n({type:h,field:"nextData",value:e||{}}),!0}),l=$t?n($({selectors:v,constants:d})):Promise.resolve(),s=O(e()),u=Object.keys(s).map(function(t){return ne.ljSharings.GetCount(j.socialSharingsDict[t]||t,location.href).then(function(e){return n({type:g,share:{type:t,data:{value:e}}}),e})}),o=(Promise.all(u.map(ne.ljUtil.Promise.reflect)).then(function(e){e=e.reduce(function(e,t){return t.value?e+t.value:e},0);r("entry.set_sharings",{count:e,url:Object(ne.getWindow)().location.href}).catch(function(){})}),n(Z(d)),ne.ljEvent.on("postShareChange",function(e){n(X(e,d))}),Promise.all([i,c,l]).then(n({type:y})).catch(function(){}),p.associatedDirectives);o&&(console.log(o),t=Object.values(o).find(function(e){return"rd-post-view-social"===e.directive&&"top"===e.prop}),a=Object.values(o).find(function(e){return"rd-post-view-social"===e.directive&&"bottom"===e.prop}),n(f({assocDirectives:{topSocPanel:{key:t.key},bottomSocPanel:{key:a.key}}}))),void 0!==p.allowPrevNextLinks&&null!==p.allowPrevNextLinks&&n(f({allowPrevNextLinks:p.allowPrevNextLinks}))}},toggleLikus:function(t){return function(e){e(Q({selectors:v,constants:d,likus:t}))}},handleBookmark:function(e){var t=e.added,n=e.privacy;return function(e){e(Y({added:t,privacy:n,selectors:v,constants:d}))}},onShareClick:function(t,n){return function(e){e(q(v,t,{event:n}))}},closeAllPopups:function(){return{type:t}},toggleLikusPopup:function(){return function(e){e(W({selectors:v,constants:d}))}},toggleMoreModal:function(){return function(e){e(J({selectors:v,constants:d}))}},toggleBookmarkPopup:function(n){return function(e,t){t=(Object(p.getBookmarkState)(t(),location.href)||{}).added||!1;return e({type:r,data:!!t&&n})}},openCommentForm:function(){return function(e){e(ee({selectors:v,constants:d}))}}}};function qt(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach(function(e){Xt(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zt=k(k({},n),{},{bookmark:{type:"bookmark",title:Object(oe.a)("post.bookmark.label")},comments:{count:0,type:"comments",title:Object(oe.a)("post.comments.label")},prevData:{},nextData:{},loaded:!1,likus:{count:0,type:"heart",title:Object(oe.a)("post.likus.label"),liked:!1,likedListIsFull:!1,likedList:[]},showLikusPopup:!1,showMoreModal:!1,title:"",username:"",profile:"",userpic:"",journalID:"",journalUrl:"",journalName:"",itemId:"",isOwner:!1,allowCommenting:!1,assocDirectives:{topSocPanel:null,bottomSocPanel:null},isShown:!1,postURL:"",postTitle:"",allowPrevNextLinks:!0}),Qt=function(w){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Zt,t=1<arguments.length?arguments[1]:void 0,n=Ft(w),r=n.PATCH_STATE,o=n.INIT,a=n.INIT_USER,i=n.INIT_NEXT_ARTICLES,c=n.DATA_LOADED,l=n.UPDATE_LIKUS,s=n.CHANGE_COMMENTS_COUNTER,u=n.GET_ALL_LIKUS_USER,p=n.UPDATE_SHARE_DATA,f=n.TOGGLE_LIKUS,d=n.TOGGLE_BOOKMARK_POPUP,m=n.CLOSE_ALL,b=n.COMMENTS_COUNT,h=n.TOGGLE_LIKUS_POPUP,n=n.TOGGLE_MORE_MODAL;switch(t.type){case r:return k(k({},e),t.patchObj);case o:var y=t.journalName,g=t.itemId,v=t.journalID,O=t.isOwner,j=t.allowCommenting;return k(k({},e),{},{journalName:y,itemId:g,journalID:v,isOwner:O,allowCommenting:j});case i:return k(k({},e),{},Xt({},t.field,t.value));case a:return k(k({},e),{},{title:t.values.title,username:t.values.username,profile:t.values.profile,userpic:t.values.userpic,journalUrl:t.values.journalUrl});case c:return k(k({},e),{},{loaded:!0});case s:return k(k({},e),{},{comments:k(k({},e.comments),{},{count:e.comments.count+t.value})});case l:return k(k({},e),{},{likus:k(k({},e.likus),t.data)});case p:y=t.share.type,g=e.socialSharings[y];return k(k({},e),{},{socialSharings:k(k({},e.socialSharings),{},Xt({},y,k(k({},g),t.share.data)))});case f:return k(k({},e),{},{likus:k(k({},e.likus),{},{count:e.likus.liked?e.likus.count-1:e.likus.count+1,liked:!e.likus.liked})});case u:return k(k({},e),{},{likus:k(k({},e.likus),{},{likedListIsFull:t.value})});case n:return k(k({},e),{},{showMoreModal:!e.showMoreModal});case m:return k(k({},e),{},{showBookmarkPopup:!1,showLikusPopup:!1});case b:return k(k({},e),{},{comments:k(k({},e.comments),{},{count:t.data})});case h:return k(k({},e),{},{showLikusPopup:void 0!==t.state?t.state:!e.showLikusPopup});case d:return k(k({},e),{},{showBookmarkPopup:t.data});default:return e}}},Yt=e(469),en=e(76),o=s.a.gray.c11,l={bar:{position:"fixed",top:0,left:0,display:"flex",alignItems:"center",width:"100%",height:44,padding:[0,140],borderBottom:"1px solid ".concat(o),backgroundColor:"rgba(255, 255, 255, .96)",boxSizing:"border-box",zIndex:11,"& a::after":{border:0}},barWithTts:{"& .social-panel":{marginRight:120}},barPreloader:{justifyContent:"center"},user:{display:"inline-flex",alignItems:"center",marginRight:16},userPic:{marginRight:8},userName:{ie:{marginBottom:-5},"& a":{fontWeight:400}},postInfo:{display:"flex",alignItems:"center"},headline:{maxWidth:333,marginRight:24,"& h3":{width:"100%",fontSize:16,fontWeight:400,margin:0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},"& h3 a":{color:s.a.black.c2,textDecoration:"none"},ie:{marginTop:7}},prevNext:{ie:{marginTop:2}},leftBtn:{width:24,height:24,"& svg":{marginLeft:-2}},rightBtn:{width:24,height:24,"& svg":{marginLeft:2}},SocialPanel:{alignItems:"center",width:"auto",marginLeft:"auto",padding:0,border:0,ie:{marginTop:2},"& [nglj-like-reaction-stats]":{marginRight:"24px"}},socialShareBtn:{marginRight:24},"@media (max-width: 1100px)":{headline:{maxWidth:280}},"@media (max-width: 1000px)":{bar:{padding:"9px 20px 10px"},socialBtn:{marginRight:24}},"@media (max-width: 800px)":{socialBtn:{marginRight:20},socialShareBtn:{marginRight:20}},BarWithTtsShare:{"@media (max-width: 800px)":{marginRight:16}},"@media (max-width: 750px)":{bar:{display:"none"}}};function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rn(e,t){return(rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function on(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=cn(n),t=(e=r?(e=cn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===tn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}}function an(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cn(e){return(cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Le=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rn(t,e);var n,r=on(o);function o(e){if(this instanceof o)return(e=r.call(this,e)).handleDocumentScroll=e.handleDocumentScroll.bind(an(e)),e;throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleDocumentScroll,!1),window.addEventListener("resize",this.handleDocumentScroll,!1),this.handleDocumentScroll()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleDocumentScroll,!1),window.removeEventListener("resize",this.handleDocumentScroll,!1)}},{key:"handleDocumentScroll",value:function(){var t,n,r=this,o=!!Site.page.endlessScrollEnabled,e=this.props.assocDirectives,e=void 0===e?{}:e,a=e.topSocPanel,e=e.bottomSocPanel;a&&e&&(this.topPanelNode=this.topPanelNode||document.querySelector("[".concat(a.key,"]")),this.bottomPanelNode=this.bottomPanelNode||document.querySelector("[".concat(e.key,"]")),a=this.topPanelNode.getBoundingClientRect(),e=this.bottomPanelNode.getBoundingClientRect(),t=0<a.bottom&&a.bottom<window.innerHeight||0<a.top&&a.top<window.innerHeight,n=0<e.bottom&&e.bottom<window.innerHeight||0<e.top&&e.top<window.innerHeight,a=function(){if(t||n)return!1;if(o){if(r.ownPostContainer=r.ownPostContainer||r.topPanelNode.closest(".js--post-container"),!r.ownPostContainer)return!1;var e=r.ownPostContainer.getBoundingClientRect();if(!(e.top<0&&e.bottom>window.innerHeight))return!1}return!0}(),this.props.show!==a&&this.props.actions.patchState({isShown:a}))}},{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.className,r=e.size,o=e.userpic,a=e.actions,i=e.postURL,c=e.allowCommenting,l=e.rootActions,s=e.journalUrl,u=e.enabledSharings,p=e.username,f=e.profile,d=e.headlineUrl,m=e.likus,b=e.comments,h=e.bookmark,y=e.privacy,g=e.socialSharings,v=e.showLikusPopup,O=e.showMoreModal,j=e.showBookmarkPopup,w=e.needCounter,k=e.loaded,E=e.allowPrevNextLinks,E=void 0===E||E,S=e.prevData,P=e.nextData,_=e.title,L=e.postTitle,N=e.show,C=e.journalName,R=e.itemId,I=e.isOwner,T=e.medius,e=e.tts;return N?(LJ.Event.trigger("upBar::willShown"),k?te.a.createElement("div",{className:Object(ae.a)(n,t.bar,e&&t.barWithTts)},te.a.createElement("div",{className:t.user,"data-upbar-user-container":!0},te.a.createElement(x.a,{classNameFigure:t.userPic,size:r,path:s,image:o}),te.a.createElement(D.a,{className:t.userName,journal:s,user:p,profile:f,target:"_self"})),!T&&te.a.createElement("div",{className:t.postInfo},te.a.createElement("div",{className:t.headline},te.a.createElement("h3",null,te.a.createElement("a",{href:d,dangerouslySetInnerHTML:{__html:L||_||Object(oe.a)("post.up-bar.no-headline",null,null,!0)}}))),E&&te.a.createElement("div",{className:t.prevNext},S.link&&te.a.createElement(ie.a,{className:t.leftBtn,path:S.link,Icon:te.a.createElement(Yt.a,{inlineStyle:!0,left:!0}),title:Object(oe.a)("post.prev-next-post.prev")}),P.link&&te.a.createElement(ie.a,{path:P.link,className:t.rightBtn,Icon:te.a.createElement(Yt.a,null),title:Object(oe.a)("post.prev-next-post.next")}))),te.a.createElement(Lt,{className:Object(ae.a)(t.SocialPanel,"js--upBar"),classSocialBtn:t.socialBtn,classSocialSharing:Object(ae.a)(t.socialShareBtn,e&&t.BarWithTtsShare),showAll:!1,comments:b,allowCommenting:c,needCounter:w,enabledSharings:u,bookmark:h,socialSharings:g,likus:m,showLjRepost:!I,showLikusPopup:v,showBookmarkPopup:j,showMoreModal:O,privacy:y,actions:a,addFriend:l.addFriend,removeFriend:l.removeFriend,journalName:C,itemId:R,medius:T,likeReactionsEnabled:re.a.isEnabled("reactions")&&re.a.isEnabled("reactions_post"),postURL:i})):te.a.createElement("div",{className:Object(ae.a)(t.bar,t.barPreloader,T&&t.mediusBar)},te.a.createElement(en.a,null))):(LJ.Event.trigger("upBar::hidden"),null)}}])&&nn(t.prototype,e),n&&nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),ln=Object(r.a)(l)(Le);function sn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function un(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?sn(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):sn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function pn(e){return{actions:Vt(e),constants:Ft(e),selectors:Jt(e),reducer:Qt(e),container:fn(e)}}var fn=function(t){var a=Jt(t);return Object(i.b)(function(e,t){var n=a.getSocialState(e),r=p.getSocial(e),o=p.getUsers(e);return un(un({assocDirectives:n.assocDirectives},n),{},{bookmark:un(un({},a.getBookmarkState(e)),p.getBookmarkState(e,n.postURL)),likus:a.getLikus(e,o),enabledSharings:r.enabled,prop:t.prop,medius:t.prop.split(" ").includes("medius"),show:n.isShown,postURL:n.postURL,tts:localStorage.getItem("ttsPostBtn")||Site.page.has_voice})},function(e){return{actions:Object(c.bindActionCreators)(Vt(t),e),rootActions:Object(c.bindActionCreators)(f,e)}})(ln)};function dn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function mn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dn(Object(n),!0).forEach(function(e){bn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hn=function(n){return["INIT","TOGGLE_POPUP","UPDATE_STATE"].reduce(function(e,t){return mn(mn({},e),{},bn({},t,"".concat(t,"--").concat(n)))},{})},yn=Object(ne.getDocument)(),gn=function(e){function m(){return{type:t}}var e=hn(e),b=e.INIT,t=e.TOGGLE_POPUP,h=e.UPDATE_STATE;return{init:function(){var d=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(e){var t=Object(ne.ljGet)("remote"),n=Object(ne.ljGet)("journal.community_relation"),r=d.poster||Object(ne.ljGet)("entry.poster"),o=Object(ne.ljGet)("remote.display_username"),a=Object(ne.ljGet)("remote_is_sup"),i=d.isDelayed||Object(ne.ljGet)("entry.is_delayed"),c=d.isDraft||Object(ne.ljGet)("entry.is_draft"),l=d.isCommunity||Object(ne.ljGet)("journal.is_community"),s=Object(ne.ljGet)("journal.username"),u=d.postURL||"postURL",p=d.postID,f=yn.body.querySelector(".js--post-actions-popup-placeholder");f&&((f.querySelector("input")||{}).checked&&e(m()),setTimeout(function(){f&&f.parentNode.removeChild(f)})),e({type:b,values:{userIsLoggedIn:null!==t,isAuthor:r===o,isModerator:["owner","moderator","maintainer"].includes(n),isCyrillic:a,isDelayed:i,isDraft:c}}),e({type:h,values:{isCommunity:l,journalName:s,postURL:u,isDelayed:i,isDraft:c,poster:r,username:o,postID:p}})}},togglePopup:m}},vn=function(t){return{getState:function(e){return e[t]}}};function On(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function b(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?On(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):On(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function jn(e){return e=e.className,te.a.createElement("svg",{width:"16",height:"4",viewBox:"0 0 16 4",className:Object(ae.a)(e,"svgicon","svgicon svgicon--more")},te.a.createElement("path",{d:"M14 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zM2 4a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm6 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}))}var wn={userIsLoggedIn:!0,isAuthor:!0,isVisitor:!1,isDelayed:!1,isDraft:!1,open:!1},kn=function(a){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:wn,t=1<arguments.length?arguments[1]:void 0,n=hn(a),r=n.INIT,o=n.TOGGLE_POPUP,n=n.UPDATE_STATE;switch(t.type){case n:return b(b({},e),t.values);case r:return b(b({},e),{},{userIsLoggedIn:t.values.userIsLoggedIn,isAuthor:t.values.isAuthor,isVisitor:t.values.isVisitor,isModerator:t.values.isModerator,isCyrillic:t.values.isCyrillic,isDelayed:t.values.isDelayed,isDraft:t.values.isDraft});case o:return b(b({},e),{},{open:!e.open});default:return e}}},En=e(17),Sn=e(132),y=e(115);function Pn(e){return(Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return(Ln=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Cn(n),t=(e=r?(e=Cn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Pn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var a={morePanel:{position:"absolute",top:-3,right:16,fontSize:0},moreBtn:{width:"auto",height:"auto",padding:"8px 5px 0 !important",margin:0,backgroundColor:"transparent",border:0,outline:0,"& .svgicon":{fill:s.a.gray.c16}},popup:{width:225,zIndex:100},preloader:{},menuCheckboxItem:{padding:"6px 37px",marginRight:"0px","& $preloader":{position:"absolute",left:14,top:8}}},Rn=["bottom end"],d=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ln(t,e);var n,r=Nn(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.open,r=e.postURL,o=e.userIsLoggedIn,a=e.isAuthor,i=e.isModerator,c=e.isDelayed,l=e.isDraft,s=e.actions,u=e.isCyrillic,p=e.isCommunity,f=e.journalName,d=e.isGoldenEntry,m=e.canManageGoldenEntries,b=e.goldStatusUpdating,e=e.postID,h=a||i,c=!c&&!l,l="",p=(p&&(l="?authas=".concat(f)),n?te.a.createElement(pt.a,{className:t.popup},te.a.createElement(y.a,{text:a&&Object(oe.a)("post.view-actions-popup.edit-post")||i&&Object(oe.a)("post.view-actions-popup.edit-post")||Object(oe.a)("post.view-actions-popup.complain-about-post"),href:a&&"".concat(Object(ne.ljGet)("siteroot"),"/post?url=").concat(r||location.href)||i&&"".concat(Object(ne.ljGet)("siteroot"),"/post?url=").concat(r||location.href)||"",action:function(e){a||i||(LJ.Misc.LJReportPopover.setComplaintData(Site.journal.id,Object(ne.ljGet)("entry.ditemid"),"entry"),LJ.Misc.LJReportPopover.show({anchorNode:e.target}))}}),(a||i)&&!En.g&&te.a.createElement(y.a,{text:Object(oe.a)("post.view-actions-popup.new-post-from-this"),href:"".concat(Object(ne.ljGet)("siteroot"),"/post?newFrom=").concat(r||location.href)}),c&&o?te.a.createElement(y.a,{text:Object(oe.a)("post.view-actions-popup.get-notifications"),href:"".concat(Object(ne.ljGet)("siteroot"),"/manage/subscriptions/entry.bml?journal=").concat(f||Object(ne.ljGet)("entry.journal"),"&itemid=").concat(e||Object(ne.ljGet)("entry.ditemid"))}):void 0,h&&c?te.a.createElement(y.a,{text:Object(oe.a)("post.view-actions-popup.statistics"),href:"".concat(Object(ne.ljGet)("siteroot"),"/statistics/post/hits/").concat(e||Object(ne.ljGet)("entry.ditemid"),"/").concat(l)}):void 0,h&&u&&c?te.a.createElement(y.a,{text:Object(oe.a)("post.view-actions-popup.promo"),href:"".concat(Object(ne.ljGet)("siteroot"),"/shop/feedpromo/buy?object_link=").concat(r||location.href)}):void 0,m&&c?te.a.createElement(Sn.a,{labelText:Object(oe.a)("post.view-actions-popup.golden_entry"),key:0,id:0,checked:d,tagName:"div",onChange:function(e){e.preventDefault(),s.setGoldenEntryStatus({newIsGolden:!d,postURL:r})},className:t.menuCheckboxItem,customBoxEl:b?te.a.createElement(en.a,{className:t.preloader,size:16}):void 0}):void 0):void 0);return te.a.createElement(Ve.a,{className:t.morePanel,popup:p,onMissClick:s.togglePopup,positions:Rn,offset:12,shift:24,isOpen:n,arrow:!0},a||c?te.a.createElement(ie.a,{className:t.moreBtn,Icon:te.a.createElement(jn,null),type:"button",onClick:s.togglePopup,"aria-pressed":n,"aria-haspopup":!0,tabIndex:0}):void 0)}}])&&_n(t.prototype,e),n&&_n(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.Component),In=Object(r.a)(a)(d);function Tn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function h(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Tn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Dn(e){return{actions:gn(e),constants:hn(e),selectors:vn(e),reducer:kn(e),container:An(e)}}var xn={isModerator:!1},An=function(r){var o=vn(r);return Object(i.b)(function(e){var t=Object(p.getState)(e),n=e[r];return h(h(h({},xn),o.getState(e)),{},{canManageGoldenEntries:t.canManageGoldenEntries,isGoldenEntry:t.isGoldenEntry,goldStatusUpdating:t.goldStatusUpdating,postURL:n.postURL||Object(ne.ljGet)("currentEntry")})},function(e){return{actions:Object(c.bindActionCreators)(h(h({},gn(r)),{},{setGoldenEntryStatus:f.setGoldenEntryStatus}),e)}})(In)};function Bn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bn(Object(n),!0).forEach(function(e){Gn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mn=function(n){return["INIT","INIT_USER","DATA_LOADED"].reduce(function(e,t){return Un(Un({},e),{},Gn({},t,"".concat(t,"--").concat(n)))},{})},zn=function(e){var e=Mn(e),g=e.INIT,v=e.INIT_USER,O=e.DATA_LOADED;return{init:function(){return function(t,e,n){var n=n.api,r=Object(ne.ljGet)("entry.ditemid"),o=Object(ne.ljGet)("entry.poster_is_identity")?Object(ne.ljGet)("entry.poster_display_name"):Object(ne.ljGet)("entry.poster"),a=Object(ne.ljGet)("entry.journal"),i=Object(ne.ljGet)("entry.poster_journal_base"),c=Object(ne.ljGet)("entry.poster_profile_url"),l=Object(ne.ljGet)("entry.poster_userhead_url"),s=Object(ne.ljGet)("entry.poster_userpic_url"),u=Object(ne.ljGet)("entry.poster_is_friend"),p=Object(ne.ljGet)("journal.is_community"),f=Object(ne.ljGet)("journal.is_news"),d=Object(ne.ljGet)("journal.username"),m=Object(ne.ljGet)("journal.journal_url"),b=Object(ne.ljGet)("journal.userhead_url"),h=Object(ne.ljGet)("remote"),y=Object(ne.ljGet)("remote.username"),c=(t({type:v,values:{username:o,profile:c,userpic:s,userhead:l,journalUrl:i,isCommunity:p||f,communityName:d,communityUrl:m,communityUserhead:b,userActions:null!==h&&y!==o,is_friend:y!==o&&u}}),n("entry.get_itemid_before",{ditemid:r,journal:a}).then(function(e){return t({type:g,field:"prevData",value:e||{}}),!0})),s=n("entry.get_itemid_after",{ditemid:r,journal:a}).then(function(e){return t({type:g,field:"nextData",value:e||{}}),!0});Promise.all([c,s]).then(t({type:O})).catch(function(){})}}}},Hn=function(t){return{getState:function(e){return e[t]}}};function Fn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(n),!0).forEach(function(e){Kn(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fn(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn={prevData:{},nextData:{},loaded:!1,username:"",profile:"",userpic:"",userhead:"",journalUrl:"",communityUserhead:"",isCommunity:!1,userActions:!1,is_friend:!1},Jn=function(a){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Wn,t=1<arguments.length?arguments[1]:void 0,n=Mn(a),r=n.INIT,o=n.INIT_USER,n=n.DATA_LOADED;switch(t.type){case r:return g(g({},e),{},Kn({},t.field,t.value));case o:return g(g({},e),{},{username:t.values.username,profile:t.values.profile,userpic:t.values.userpic,userhead:t.values.userhead,journalUrl:t.values.journalUrl,isCommunity:t.values.isCommunity,communityName:t.values.communityName,communityUrl:t.values.communityUrl,communityUserhead:t.values.communityUserhead,userActions:t.values.userActions,is_friend:t.values.is_friend});case n:return g(g({},e),{},{loaded:!0});default:return e}}},m=s.a.gray.c9,u={list:{position:"relative",display:"flex",justifyContent:"space-between",font:"inherit",listStyle:"none",padding:0,margin:[37,0,0]},preloader:{margin:[20,0]},item:{width:220,"& $title":{color:m}},user:{display:"block"},userInner:{display:"flex",alignItems:"center",flexDirection:"column",textAlign:"center"},communityRoot:{marginTop:8},community:{display:"inline-flex",marginLeft:5},communityFor:{fontSize:16,ie:{position:"relative",top:-6}},userPic:{marginBottom:13},userActions:{marginTop:16,"& button":{paddingLeft:12,paddingRight:12}},title:{display:"inline-block",color:m,fontSize:14,lineHeight:"24px",fontWeight:400,marginBottom:5},headline:{fontSize:16,lineHeight:"20px",fontWeight:700,margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word","& a":{textDecoration:"none",color:s.a.black.c2},"& a:hover":{color:s.a.blue.c2},"& a::after":{border:0}},"@media (max-width: 750px)":{list:{flexDirection:"column",marginTop:"30px"},item:{display:"block",width:"100%",marginBottom:24,"&:last-child":{marginBottom:0}},user:{order:1,marginBottom:40},itemPrev:{order:2},itemNext:{order:3}}};function $n(e){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xn(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Zn(n),t=(e=r?(e=Zn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===$n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Zn(e){return(Zn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qn(t,e);var n,r=Xn(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.size,r=e.journalUrl,o=e.userpic,a=e.profile,i=e.userhead,c=e.username,l=e.isCommunity,l=void 0!==l&&l,s=e.communityUrl,u=e.communityName,p=e.communityUserhead,f=e.userActions,f=void 0!==f&&f,d=e.is_friend,d=void 0!==d&&d,m=e.loaded,b=e.prevData,e=e.nextData,h=Object(ne.ljGet)("journal.profile_url");return m?te.a.createElement("ul",{className:t.list,"aria-label":Object(oe.a)("post.prev-next-post.label")},te.a.createElement("li",{className:Object(ae.a)([t.item,t.itemPrev])},b.link&&te.a.createElement("div",null,te.a.createElement("a",{className:t.title,href:b.link,target:"_self"},Object(oe.a)("post.prev-next-post.prev")),te.a.createElement("h3",{className:Object(ae.a)([t.headline,"js-prev-next-block"])},te.a.createElement("a",{href:b.link,target:"_self"},b.subject||Object(oe.a)("post.list.no-title"))))),te.a.createElement("li",{className:t.user},te.a.createElement("div",{className:t.userInner},te.a.createElement(x.a,{className:t.userPic,size:n,path:r,image:o,username:c}),te.a.createElement(D.a,{className:t.userName,profile:a,journal:r,userhead:i,username:c,target:"_self"}),l&&te.a.createElement("span",{className:t.communityRoot},te.a.createElement("span",{className:t.communityFor},Object(oe.a)("post.userpanel.for")),te.a.createElement(D.a,{className:t.community,journal:s,userhead:p,username:u,profile:h,blue:!0,target:"_self"})),f&&te.a.createElement("div",{className:t.userActions},d?te.a.createElement(ie.a,{text:Object(oe.a)("post.prev-next-post.in-friends"),background:"blue",path:"".concat(Object(ne.ljGet)("siteroot"),"/friends/add.bml?user=").concat(c),ariaLabel:Object(oe.a)("post.prev-next-post.in-friends-label")}):te.a.createElement(ie.a,{className:t.addButton,IconType:"add",path:"".concat(Object(ne.ljGet)("siteroot"),"/friends/add.bml?instant_add=1&user=").concat(c),text:Object(oe.a)("post.prev-next-post.add-friend"),ariaLabel:Object(oe.a)("post.prev-next-post.add-friend-label")})))),te.a.createElement("li",{className:Object(ae.a)([t.item,t.itemNext])},e.link&&te.a.createElement("div",null,te.a.createElement("a",{className:t.title,href:e.link,target:"_self"},Object(oe.a)("post.prev-next-post.next")),te.a.createElement("h3",{className:Object(ae.a)([t.headline,"js-prev-next-block"])},te.a.createElement("a",{href:e.link,target:"_self"},e.subject||Object(oe.a)("post.list.no-title")))))):te.a.createElement(en.a,{className:t.preloader,size:"50"})}}])&&Vn(t.prototype,e),n&&Vn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.PureComponent),Qn=Object(r.a)(u)(n);function Yn(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function er(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Yn(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Yn(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function tr(e){return{actions:zn(e),constants:Mn(e),selectors:Hn(e),reducer:Jn(e),container:rr(e)}}var nr={size:"42"},rr=function(t){var n=Hn(t);return Object(i.b)(function(e){return er(er({},nr),n.getState(e))},function(e){return{actions:Object(c.bindActionCreators)(zn(t),e)}})(Qn)};function or(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?or(Object(n),!0).forEach(function(e){ir(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):or(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cr=function(n){return["PATCH_STATE","INIT","CHANGE","SOCIAL_COUNTERS","UPDATE_LIKUS_COUNT","UPDATE_COMMENTS_COUNT"].reduce(function(e,t){return ar(ar({},e),{},ir({},t,"".concat(t,"--").concat(n)))},{})},lr=function(t){function n(e){return e[t]}return{getItems:function(e){return n(e).items},getState:n,getSignature:function(e){return n(e).listInfo.likes_signature}}},sr=function(e){var t=cr(e),a=t.INIT,r=t.PATCH_STATE,n=t.CHANGE,i=t.SOCIAL_COUNTERS,c=t.UPDATE_LIKUS_COUNT,l=t.UPDATE_COMMENTS_COUNT,t=lr(e),s=t.getItems,u=t.getSignature,p={vk:"vkontakte",ok:"odnoklassniki",tw:"twitter",lj:"repost",fb:"facebook"};return{change:function(e){return{type:n,value:e}},init:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return function(o,t,e){e=e.api;return n.carouselView&&o(function(){return{type:r,patchObj:0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}}}({carouselView:!0})),e("post.get_threeposts",{url:n.postURL||location.href}).then(function(e){o({type:a,state:{listInfo:{tagName:e.threeposts_tag||"",tagUrl:e.threeposts_url||"",listType:e.threeposts_source||"",count:Number(e.threeposts_count)||0,likes_signature:e.likes_signature},items:e.threeposts||[]}});var e=s(t()),r=u(t());e.forEach(function(n){Object.keys(n.socialSharings).forEach(function(t){ne.ljSharings.GetCount(p[t],n.link).then(function(e){o({type:i,data:{ditem_id:n.ditem_id,type:t,count:e}})}),o({type:l,data:{ditemId:n.ditem_id,count:n.comments_count}}),ne.ljLikus.getVote({item:+n.ditem_id,journal:+n.journal_id},{token:r,type:"short"},function(e){o({type:c,data:e})})})})})}},shareSocial:function(n){return function(t){ne.ljSharings.Share(p[n],location.href)().then(function(){ne.ljSharings.GetCount(p[n],location.href,!0).then(function(e){t({type:i,data:{type:n,count:e}})})})}}}};function ur(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ur(Object(n),!0).forEach(function(e){pr(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ur(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fr={carouselView:!1,listInfo:{tagUrl:"",tagName:"",listType:"recent",count:0},items:[]},dr=function(h){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:fr,t=1<arguments.length?arguments[1]:void 0,n=cr(h),r=n.PATCH_STATE,o=n.INIT,a=n.CHANGE,i=n.SOCIAL_COUNTERS,c=n.UPDATE_LIKUS_COUNT,n=n.UPDATE_COMMENTS_COUNT;switch(t.type){case r:return w(w({},e),t.patchObj);case o:var l=t.state.items.map(function(e){return w(w({},e),{},{static:!0,comments:{count:0,type:"comments",title:Object(oe.a)("post.comments.label"),url:"#comments"},likus:{count:0,type:"heart",title:Object(oe.a)("post.likus.label"),liked:!1,likedList:[]},socialSharings:{lj:{value:0,title:Object(oe.a)("post.social.lj.label"),showCounter:!1},fb:{value:0,title:Object(oe.a)("post.social.fb.label"),showCounter:!1},vk:{value:0,title:Object(oe.a)("post.social.vk.label"),showCounter:!1},ok:{value:0,title:Object(oe.a)("post.social.ok.label"),showCounter:!1},tw:{value:0,title:Object(oe.a)("post.social.tw.label"),showCounter:!1}}})});return w(w(w({},e),t.state),{},{items:l});case a:return w(w({},e),{},{text:t.value});case i:var l=t.data,s=l.ditem_id,u=l.type,p=l.count,l=e.items.map(function(e){return e.ditem_id===s?w(w({},e),{},{socialSharings:w(w({},e.socialSharings),{},pr({},u,w(w({},e.socialSharings[u]),{},{value:p})))}):e});return w(w({},e),{},{items:l});case c:var l=t.data,f=l.item,d=l.count,l=e.items.map(function(e){return e.ditem_id===f?w(w({},e),{},{likus:w(w({},e.likus),{},{count:d})}):e});return w(w({},e),{},{items:l});case n:var l=t.data,m=l.ditemId,b=l.count,l=e.items.map(function(e){return e.ditem_id===m?w(w({},e),{},{comments:w(w({},e.comments),{},{count:b})}):e});return w(w({},e),{},{items:l});default:return e}}},o="20px",l="15px",Le="20px",a="15px",d={fader:{content:'""',position:"absolute",bottom:0,right:0,width:"20%",height:24,background:"linear-gradient(to right, rgba(255, 255, 255, 0), ".concat(s.a.white.c1," 50%)")},item:{position:"relative",boxSizing:"border-box",alignSelf:"stretch",width:320,height:"auto",minHeight:124,marginBottom:32,padding:20,border:"1px solid ".concat(s.a.gray.c3),borderRadius:8,"&:hover $head":{color:s.a.blue.c2,transition:".2s"}},link:{position:"absolute",top:0,left:0,width:"100%",height:"100%",fontSize:0,color:"transparent",zIndex:10,opacity:0},head:{position:"relative",maxHeight:168,overflow:"hidden","& .i-ljuser-profile":{marginRight:"2px !important"},"& .i-ljuser-userhead":{width:"22px !important",height:"22px !important",marginBottom:"3px !important"}},itemSimple:{"& h3":{fontSize:24,fontWeight:700,lineHeight:"28px",margin:[6,0,5]},"& p":{position:"relative",maxHeight:157,marginBottom:66,fontSize:16,fontWeight:400,lineHeight:"22px",color:s.a.black.c2,margin:0,overflow:"hidden"},"& p::after":{extend:"fader"},"& h3 a":{color:s.a.black.c2},"&:hover h3 a":{color:s.a.blue.c2,transition:".2s"},"& a::after":{border:0}},itemPic:{"& h3":{position:"relative",fontSize:20,fontWeight:600,lineHeight:"24px",margin:[20,0,66]},"& h3 a":{color:s.a.black.c2},"& a::after":{border:0}},postPicture:{height:182,margin:"-20px -20px 0",borderRadius:"8px 8px 0 0",backgroundRepeat:"no-repeat",backgroundSize:"cover"},itemShort:{padding:15,border:"1px solid ".concat(s.a.gray.c3),borderRadius:8,boxSizing:"border-box","& h3":{position:"relative",maxHeight:60,marginBottom:66,fontSize:16,fontWeight:600,lineHeight:"20px",margin:0,overflow:"hidden"},"& h3 a":{color:s.a.black.c2},"& a::after":{border:0}},socialActivity:{position:"absolute",left:o,bottom:20,width:"calc(100% - (".concat(Le," + ").concat(o,"))"),"& button":{height:"auto"}},closeBtn:{marginLeft:"auto"},closeBtnIcon:{marginRight:0,"& button:first-child":{float:"right",marginLeft:8}},socialActivityShort:{width:"calc(100% - (".concat(a," + ").concat(l,"))"),left:l,bottom:15},SocialBtn:{marginRight:24},socialBtnIcon:{width:"auto",height:"auto"},"@media (max-width: 1200px)":{item:{width:"calc(33% - 15px)"},itemPic:{width:"calc(33% - 15px)","& h3":{maxHeight:143,overflow:"hidden"}},itemShort:{width:"calc(33% - 15px)"},SocialBtn:{marginRight:15},SocialSharingBtn:{marginRight:20}},"@media (max-width: 1000px) and (min-width: 750px)":{SocialSharingBtn:{marginRight:10},socialBtnIcon:{"& .svgicon, & .svgicon--bookmark, & .svgicon--lj, & .svgicon--fb, & .svgicon--ok, & .svgicon--vk, & .svgicon--twitter, & .svgicon--share, & .svgicon--comments":{width:14,height:14},"& .svgicon--bookmark,":{height:13}},closeBtnIcon:{"& button:first-child":{marginLeft:0},"& svg":{width:12,height:12}},socialBtnCounter:{fontSize:12,margin:[0,0,0,3]},closeBtn:{"& $socialBtnCounter":{marginTop:-1}}},"@media (max-width: 750px)":{item:{width:"100%",maxWidth:"100%"},itemSimple:{minHeight:254,maxHeight:280,padding:15,marginBottom:24,"& h3":{maxHeight:85,margin:[0,0,7]},"& p":{maxHeight:110},"& + $itemPic":{marginTop:24,"&::after":{content:'""',position:"absolute",left:0,top:-25,width:"100%",height:1,backgroundColor:s.a.gray.c3}}},itemPic:{minHeight:254,marginBottom:24,"& h3":{margin:[11,0,64]}},itemShort:{minHeight:120,maxHeight:254,padding:15,marginBottom:24,"& h3":{margin:[0,0,7]}},postPicture:{padding:0},socialActivitySimple:{left:15,width:"calc(100% - (".concat(a," + ").concat(l,"))")}},"@media (max-width: 400px)":{SocialSharingBtn:{marginRight:20}}};function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yr(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=gr(n),t=(e=r?(e=gr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===mr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hr(t,e);var n,r=yr(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.className,r=e.title,o=e.pic,a=e.text,i=e.link,c=e.simplePost,l=e.picturePost,s=e.shortPost,u=e.actions,p=e.staticBtn,f=e.likus,d=e.comments,m=e.bookmark,b=e.socialSharings;return e.carouselView?te.a.createElement("article",{className:"related-post"},te.a.createElement("a",{href:i,className:"related-post__link",target:"_self"}),te.a.createElement("div",{className:"related-post__wrapper ".concat(!o&&"related-post__wrapper--no-image"),style:{backgroundImage:"url(".concat(o,")")}},te.a.createElement("img",{src:"pic",alt:""}),te.a.createElement("h3",{className:"related-post__title",dangerouslySetInnerHTML:{__html:r}}))):te.a.createElement("article",{className:Object(ae.a)([n,t.item,c&&t.itemSimple,l&&t.itemPic,s&&t.itemShort])},te.a.createElement("a",{href:i,className:Object(ae.a)([t.link,"js-related-post-block"]),dangerouslySetInnerHTML:{__html:r},target:"_self"}),l&&te.a.createElement("div",{className:t.postPicture,style:{backgroundImage:"url(".concat(o,")")},role:"img"},te.a.createElement("meta",{content:o})),te.a.createElement("h3",{className:t.head,dangerouslySetInnerHTML:{__html:r}}),c&&te.a.createElement("p",{className:t.text,dangerouslySetInnerHTML:{__html:a}}),b&&te.a.createElement(Lt,{className:Object(ae.a)([t.socialActivity,c&&t.socialActivitySimple,l&&t.socialActivityPic,s&&t.socialActivityShort,"js--related-post"]),classCloseBtn:t.closeBtn,classCloseBtnIcon:t.closeBtnIcon,classSocialBtn:t.SocialBtn,classSocialSharing:t.SocialSharingBtn,classNameIcon:t.socialBtnIcon,classNameCounter:t.socialBtnCounter,allowCommenting:!0,showAll:!1,likus:f,static:p,comments:d,bookmark:m,socialSharings:b,enabledSharings:!0,needCounter:!0,actions:u,likeReactionsEnabled:!1}))}}])&&br(t.prototype,e),n&&br(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.PureComponent),vr=Object(r.a)(d)(m);function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jr(){return(jr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kr(e,t){return(kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Er(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Sr(n),t=(e=r?(e=Sr(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Or(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==t)return t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u={root:{width:"100%",maxWidth:1200,margin:[0,"auto"],padding:[32,20,0],borderTop:"1px solid ".concat(s.a.gray.c3),boxSizing:"border-box",WebkitFontSmoothing:"antialiased"},head:{fontSize:28,fontWeight:700,lineHeight:"32px",color:s.a.black.c2,margin:[0,0,48]},tag:{"a&":{marginLeft:5,borderBottom:"2px solid ".concat(s.a.black.c2),color:s.a.black.c2,transition:"all 0.05s linear;","&:hover, &:focus":{borderBottom:"none"},"&:active":{opacity:.7}}},items:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"flex-start"}},Pr=[],n=function(e){var t=o;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e);var n,r=Er(o);function o(){var e=this,t=o;if(e instanceof t)return r.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return t=o,(e=[{key:"render",value:function(){var e=this.props,t=e.sheet.classes,n=e.listInfo,r=e.actions,o=e.items,o=void 0===o?Pr:o,a=e.params.postCount,e=e.carouselView;if(!o.length)return null;a&&(o=o.slice(0,+a));var a=te.a.createElement("h1",{className:t.head},"recent"===n.listType?Object(oe.a)("post.related-post.recent.headline"):Object(oe.a)("post.related-post.headline"),"recent"!==n.listType&&te.a.createElement("a",{className:t.tag,href:n.tagUrl,title:n.tagName,target:"_self"},n.tagName)),i=(e&&(a=null),te.a.createElement("div",{className:t.items},o.slice(0,3).map(function(e){return te.a.createElement(vr,jr({key:e.itemid||e.link},e,{likus:e.likus,staticBtn:e.static,comments:e.comments,bookmark:e.bookmark,socialSharings:e.socialSharings,simplePost:!e.pic,picturePost:!!e.pic,actions:r}))}),o.slice(3,6).map(function(e){return te.a.createElement(vr,jr({key:e.itemid||e.link},e,{staticBtn:e.static,comments:e.comments,bookmark:e.bookmark,socialSharings:e.socialSharings,shortPost:!0,actions:r,likus:e.likus}))}))),n=(e&&(n=te.a.createElement("h2",{className:"related-list__title"},"recent"===n.listType?Object(oe.a)("related.list.title"):Object(oe.a)("post.related-post.headline"),"recent"!==n.listType&&te.a.createElement("a",{className:t.tag,href:n.tagUrl,title:n.tagName,target:"_self"},n.tagName)),i=te.a.createElement("div",{className:"related-list"},te.a.createElement("div",{className:"related-list__container"},n,te.a.createElement("div",{className:"related-list__wrapper"},o.map(function(e){return te.a.createElement(vr,jr({key:e.itemid||e.link},e,{carouselView:!0,staticBtn:e.static,simplePost:!e.pic,picturePost:!!e.pic,actions:r}))}))))),t.root);return e&&(n=Object(ae.a)([])),te.a.createElement("section",{className:n,"aria-label":Object(oe.a)("post.related-post.label")},a,i)}}])&&wr(t.prototype,e),n&&wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}(t.PureComponent),_r=Object(r.a)(u)(n);function Lr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function Nr(r){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?Lr(Object(o),!0).forEach(function(e){var t,n;t=r,n=o[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Lr(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function Cr(e){return{actions:sr(e),constants:cr(e),selectors:lr(e),reducer:dr(e),container:Rr(e)}}var Rr=function(t){var n=lr(t);return Object(i.b)(function(e){return Nr({},n.getState(e))},function(e){return{actions:Object(c.bindActionCreators)(sr(t),e)}})(_r)},Ir=e(303);function Tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Dr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xr(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xr(Object(n),!0).forEach(function(e){Ar(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.d(P,"reducers",function(){return zr}),e.d(P,"render",function(){return Hr});function Br(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).rootNode,o=void 0===e?document:e;return Object.entries({"rd-post-actions-popup":Dn,"rd-post-view-up-bar":pn,"rd-post-view-social":Ut,"rd-post-view-prev-next":tr,"rd-post-view-related-list":Cr}).reduce(function(e,t){var n,a,i,t=Tr(t,2),r=t[0],t=t[1],t=(n=o.querySelectorAll("[".concat(r,"]")),a=r,i=t,r=function(e){var t=Gr(),n="".concat(a,"-").concat(t),r=e.getAttribute(a),o=e.dataset;return e.setAttribute(n,r),e.removeAttribute(a),e.setAttribute("data-rd-type",a),e.setAttribute("data-rd-hash",t),{directive:a,module:i(n),key:n,prop:r,node:e,params:o}},[].map.call(n,r).reduce(function(e,t){return E(E({},e),{},Ar({},t.key,t))},{}));return E(E({},e),t)},{})}var Ur=Object(ne.getDocument)(),Gr=function(){return Math.random().toString(36).substring(7)},Mr=Br(),zr=Object.values(Mr).reduce(function(e,t){return E(E({},e),{},Ar({},t.key,t.module.reducer))},{}),Hr=function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=r.targetDirectives,o=void 0===e?Mr:e;n.dispatch(f.init()),Object.values(o).forEach(function(e){Object(N.render)(te.a.createElement(i.a,{store:n},te.a.createElement(e.module.container,{prop:e.prop,params:e.params})),e.node),e.module.actions.init&&(t=E(E({},r.postData),r.dirParams),r.passAssociatedDirectives&&(t.associatedDirectives=o),n.dispatch(e.module.actions.init(t)));var t,e=Ur.body.querySelector('[data-react-stub="social-top"]');e&&e.parentNode.removeChild(e)})},Fr=zr;ne.lj.Event.on("rd::init-request",function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.rootNode||document,t=Br({rootNode:t}),n=Object.values(t).reduce(function(e,t){return E(E({},e),{},Ar({},t.key,t.module.reducer))},{});Object.keys(n).forEach(function(e){Fr[e]=n[e]}),_.default.replaceReducer(Object(L.a)(E({postView:Ir.default.reducer},Fr))),_.default.dispatch(f.init()),Hr(_.default,{targetDirectives:t,postData:e.postData||{},dirParams:e.dirParams||{},passAssociatedDirectives:!0})})}}]);
/* <<< file end: js/lj-team/Post/dist/view.js */

//# map link was there [view.js.map]
